<template>
  <v-app>
    <v-app-bar app clipped-left fixed>
      <v-app-bar-nav-icon
          v-if="$vuetify.breakpoint.xsOnly"
          class="mr-0"
          @click.stop="drawer = !drawer"
      ></v-app-bar-nav-icon>
      <v-toolbar-title class="pl-0">
        <v-col class="pl-0">
          <v-row class="align-center" no-gutters>
            <v-col class="title-logo">Mog Gearset</v-col>
          </v-row>
        </v-col>
      </v-toolbar-title>
      <v-spacer></v-spacer>
      <v-btn class="" outlined x-small v-on:click="changeLanguage">
        {{ $t("test") }}
      </v-btn>
    </v-app-bar>
    <v-navigation-drawer
        ref="drawer"
        v-model="drawer"
        :clipped="!$vuetify.breakpoint.xsOnly"
        :left="!$vuetify.breakpoint.xsOnly"
        :permanent="!$vuetify.breakpoint.xsOnly"
        :style="$vuetify.breakpoint.xsOnly ? 'max-height:100%;height:100vh;' : ''"
        :width="navigationWidth"
        app
        bottom
    >
      <v-btn
          v-if="$vuetify.breakpoint.xsOnly"
          absolute
          bottom
          class="mb-10 mr-4"
          color="blue-grey lighten-2"
          fab
          right
          small
          @click="drawer = !drawer"
      >
        <v-icon>mdi-close-circle</v-icon>
      </v-btn>
      <equipment-list
          :cate-dict="categoryDict"
          :equip-query-chain="equipQueryChain"
          :equipSlot="selectedSlot"
          :prop-dict="propDict"
          :propsArray="propsArray"
          class="fill-height pa-0 ma-0"
          style="width: 100%"
          v-on:select="equipItem"
      />
    </v-navigation-drawer>
    <v-main style="height: 100vh; width: 100%">
      <v-container class="grey lighten-5 pa-4" fluid>
        <v-row class="ma-0 pa-0 pr-0">
          <job-selector v-model="selectedJob"/>
        </v-row>
        <v-row class="ml-0">
          <v-col class="pl-0" cols="12" md="8">
            <v-row no-gutters>
              <v-card color="clear" outlined style="width: 100%" class="mb-4 pb-2">
                <v-card-title class="pa-0 pl-3 blue-grey darken-1 white--text">
                  <v-icon left color="white"> mdi-content-save</v-icon>
                  <span>{{ $t("ui.set.setStorage") }}</span>
                </v-card-title>
                <v-alert outlined dense type="warning" border="left" class="ma-2 mb-0">
                  {{ $t("ui.set.disclaimerStorage") }}
                </v-alert>
                <v-row no-gutters class="ml-2 mr-2 flex-row align-center justify-space-between">
                  <v-col cols="9" lg="3" class="mt-2">
                    <v-text-field dense outlined hide-details :value="currentEquipSet.name" @change="setCurrentEquipSetName"
                    ></v-text-field>
                  </v-col>
                  <v-col cols="3" lg="2" class="pl-2 mt-2">
                    <v-btn dense
                           fab
                           x-small
                           elevation="1"
                           color="blue-grey darken-1 white--text"
                           @click="$store.commit('saveEquipSet',currentEquipSet)">
                      <v-icon>mdi-content-save</v-icon>
                    </v-btn>
                  </v-col>
                  <v-col cols="8" lg="4" class="mt-2">
                    <v-select
                        dense
                        flat
                        hide-details
                        v-model="selectedSetName"
                        :items="equipSetNameList"
                        :no-data-text="$t('ui.set.no-set-text')"
                        :label="$t('ui.set.saved-set-list')"
                        outlined
                    ></v-select>
                  </v-col>

                  <v-col cols="2" lg="1" class="pl-2 mt-2">
                    <v-btn dense
                           fab
                           x-small
                           elevation="1"
                           color="blue-grey darken-1 white--text"
                           @click="$store.commit('loadEquipSetByName',{name:selectedSetName})">
                      <v-icon>mdi-download</v-icon>
                    </v-btn>
                  </v-col>
                  <v-col cols="2" lg="1" class="pl-1 mt-2">
                    <v-btn dense fab elevation="1" x-small color="deep-orange darken-3 white--text"

                           @click="$store.commit('deleteEquipSetByName',{name:selectedSetName})">
                      <v-icon>mdi-delete-forever</v-icon>
                    </v-btn>
                  </v-col>
                </v-row>
              </v-card>
            </v-row>
            <v-row no-gutters>
              <v-card color="clear" outlined style="width: 100%">
                <equip-icon-slot-selector
                    v-model="selectedSlot"
                    :dirty-flag="dirtyFlag"
                    :edit-equip-set="editEquipSet"
                    @clear="(v) => clearSlot(v)"
                ></equip-icon-slot-selector>
              </v-card>
            </v-row>
            <v-row
                v-if="
                selectedSlot != null &&
                selectedSlot !== '' &&
                editEquipSet != null &&
                editEquipSet[selectedSlot] != null
              "
                class="pt-4"
                no-gutters
            >
              <augment-selector
                  :cate-dict="categoryDict"
                  :dirty="dirtyFlag"
                  :equip-set-info="editEquipSet"
                  :prop-dict="propDict"
                  :slot-name="selectedSlot"
                  v-on:apply="applySlotAugments($event)"
              ></augment-selector>
            </v-row>
            <v-row class="pt-4" no-gutters>
              <performance-viewer
                  :cate-dict="categoryDict"
                  :dirty="dirtyFlag"
                  :equip-set-info="currentEquipSet.data"
                  :prop-dict="propDict"
              ></performance-viewer>
            </v-row>
          </v-col>
          <v-col class="pr-4" cols="12" md="4">
            <v-row class="mb-2" justify="center" no-gutters>
              <svg
                  id="svg"
                  :width="$vuetify.breakpoint.smAndDown ? '50%' : '90%'"
                  viewBox="0, 0, 400,385.8565737051793"
                  xmlns="http://www.w3.org/2000/svg"
              >
                <g id="svgg">
                  <path
                      id="path0"
                      d="M196.879 0.280 C 196.752 0.426,195.635 0.701,194.399 0.891 C 180.292 3.064,169.229 10.900,163.315 22.908 C 162.641 24.278,161.974 25.802,161.834 26.295 C 161.694 26.788,161.442 27.595,161.275 28.088 C 160.542 30.248,160.151 32.183,159.846 35.159 C 159.524 38.302,159.532 38.896,159.959 43.426 C 160.455 48.689,163.391 56.012,166.801 60.488 C 169.865 64.511,171.615 66.245,175.633 69.240 C 177.074 70.313,180.444 72.263,182.022 72.936 C 182.542 73.158,183.251 73.467,183.596 73.622 C 183.941 73.777,184.322 73.904,184.443 73.904 C 184.564 73.904,184.997 74.084,185.406 74.303 C 185.815 74.522,186.356 74.701,186.609 74.701 C 186.861 74.701,187.419 74.880,187.849 75.100 C 188.278 75.319,188.859 75.498,189.140 75.498 C 189.421 75.498,190.139 75.669,190.735 75.879 C 191.330 76.088,192.516 76.323,193.369 76.401 C 195.874 76.630,195.618 75.482,195.618 86.457 L 195.618 96.008 195.169 96.101 C 194.923 96.152,193.018 96.235,190.936 96.285 C 188.855 96.335,186.703 96.471,186.155 96.586 C 185.608 96.702,183.941 96.887,182.451 96.997 C 180.962 97.107,179.500 97.290,179.203 97.403 C 178.906 97.516,177.839 97.699,176.831 97.810 C 175.824 97.921,174.462 98.138,173.805 98.291 C 173.147 98.445,171.937 98.630,171.116 98.701 C 170.294 98.772,169.173 98.952,168.625 99.100 C 168.078 99.248,166.930 99.425,166.074 99.495 C 165.218 99.564,164.277 99.713,163.982 99.827 C 163.687 99.941,162.864 100.154,162.151 100.302 C 161.439 100.449,160.498 100.707,160.060 100.874 C 159.622 101.041,158.968 101.182,158.608 101.186 C 158.247 101.191,157.601 101.375,157.171 101.594 C 156.742 101.813,156.173 101.992,155.907 101.992 C 155.642 101.992,154.961 102.142,154.396 102.324 C 153.319 102.672,152.345 102.480,150.069 101.473 C 149.724 101.320,149.374 101.195,149.291 101.195 C 149.209 101.195,148.550 100.810,147.828 100.339 C 146.170 99.259,145.835 99.057,145.219 98.765 C 144.945 98.635,144.587 98.423,144.422 98.294 C 144.039 97.993,140.896 96.390,139.343 95.703 C 136.855 94.603,136.514 94.449,134.979 93.737 C 134.112 93.334,133.127 92.950,132.790 92.883 C 132.452 92.815,131.505 92.417,130.685 91.997 C 129.865 91.578,129.112 91.235,129.011 91.235 C 128.911 91.235,128.460 91.067,128.010 90.861 C 126.802 90.309,125.083 89.678,124.402 89.535 C 124.074 89.466,123.385 89.237,122.871 89.027 C 122.358 88.817,121.718 88.645,121.449 88.645 C 121.180 88.645,120.569 88.468,120.091 88.251 C 119.614 88.035,118.897 87.855,118.498 87.853 C 118.099 87.851,117.382 87.671,116.904 87.455 C 116.427 87.238,115.658 87.059,115.197 87.056 C 114.735 87.054,113.903 86.873,113.347 86.653 C 112.791 86.434,111.955 86.255,111.490 86.255 C 111.025 86.255,110.154 86.116,109.555 85.947 C 108.956 85.777,107.583 85.553,106.503 85.448 C 105.424 85.344,104.079 85.131,103.515 84.977 C 102.951 84.822,101.638 84.639,100.598 84.569 C 99.557 84.500,98.212 84.320,97.610 84.169 C 97.007 84.018,95.528 83.838,94.323 83.768 C 93.118 83.698,91.389 83.508,90.481 83.346 C 89.169 83.113,86.416 83.044,77.069 83.010 C 63.923 82.963,64.867 82.861,64.661 84.347 C 64.614 84.684,64.433 85.946,64.259 87.151 C 64.085 88.357,63.812 90.642,63.653 92.231 C 63.494 93.820,63.273 95.751,63.163 96.523 C 62.876 98.519,62.845 111.446,63.121 113.645 C 64.299 123.030,66.228 131.181,69.015 138.546 C 70.204 141.687,70.759 143.104,70.916 143.401 C 71.010 143.579,71.284 144.173,71.524 144.721 C 72.528 147.006,74.955 151.707,75.947 153.287 C 79.525 158.984,82.391 162.372,86.280 165.501 C 87.003 166.083,87.845 166.935,88.149 167.393 L 88.703 168.227 88.746 178.088 C 88.784 186.789,88.839 188.358,89.217 191.434 C 90.133 198.901,90.526 201.785,90.933 204.024 C 91.119 205.043,91.489 207.087,91.756 208.566 C 92.024 210.045,92.339 211.611,92.457 212.046 C 92.575 212.482,92.755 213.423,92.856 214.138 C 92.957 214.853,93.166 215.886,93.321 216.434 C 94.192 219.513,95.201 227.304,95.212 231.036 C 95.221 234.167,95.122 234.434,93.477 235.763 C 87.451 240.628,77.433 251.341,73.832 256.773 C 73.215 257.704,72.642 258.556,72.560 258.665 C 72.410 258.865,71.707 259.941,70.999 261.056 C 70.790 261.384,70.507 261.877,70.370 262.151 C 70.233 262.425,69.539 263.725,68.828 265.040 C 66.861 268.678,65.339 271.838,65.339 272.285 C 65.339 272.505,65.256 272.737,65.154 272.800 C 65.052 272.863,64.861 273.249,64.729 273.658 C 64.597 274.067,64.142 275.115,63.719 275.986 C 63.295 276.858,62.948 277.692,62.948 277.839 C 62.948 277.987,62.777 278.440,62.569 278.845 C 62.360 279.250,62.101 279.940,61.993 280.378 C 61.885 280.817,61.704 281.444,61.590 281.773 C 61.247 282.767,60.558 286.310,60.558 287.079 C 60.558 288.353,61.570 288.556,63.363 287.641 C 63.766 287.436,64.622 287.175,65.265 287.062 C 65.908 286.949,66.927 286.717,67.530 286.547 C 68.132 286.378,69.432 286.159,70.418 286.060 C 73.658 285.738,77.380 285.250,77.988 285.067 C 78.317 284.969,79.258 284.831,80.080 284.761 C 80.901 284.691,82.067 284.515,82.669 284.369 C 83.272 284.223,84.661 284.044,85.757 283.971 C 86.853 283.899,88.511 283.700,89.442 283.529 C 92.825 282.908,99.619 283.145,101.130 283.937 C 102.144 284.468,109.345 291.278,109.357 291.717 C 109.360 291.818,109.511 292.065,109.692 292.265 C 110.100 292.716,109.958 292.728,107.769 292.427 C 106.947 292.314,105.244 292.090,103.984 291.930 C 99.738 291.389,97.320 291.045,95.518 290.723 C 90.126 289.760,88.235 289.375,87.200 289.029 C 86.570 288.818,85.942 288.642,85.806 288.639 C 85.669 288.635,85.199 288.459,84.761 288.247 C 84.323 288.035,83.848 287.859,83.707 287.855 C 83.565 287.852,82.887 287.586,82.199 287.264 C 81.081 286.741,80.856 286.700,80.066 286.877 C 78.568 287.211,75.398 288.325,73.575 289.156 C 73.230 289.313,72.843 289.442,72.716 289.442 C 72.589 289.442,72.064 289.610,71.551 289.815 C 71.038 290.020,69.631 290.568,68.426 291.034 C 66.110 291.928,64.237 292.686,63.247 293.130 C 62.918 293.278,61.574 293.864,60.259 294.433 C 58.944 295.003,57.644 295.585,57.371 295.727 C 57.097 295.869,56.447 296.171,55.926 296.399 C 55.406 296.627,54.554 297.005,54.034 297.239 C 52.978 297.715,44.094 302.109,43.625 302.386 C 43.461 302.484,41.803 303.426,39.940 304.481 C 32.110 308.915,24.154 314.361,19.460 318.501 C 14.924 322.502,10.006 327.419,7.780 330.180 C 7.073 331.056,5.989 332.356,5.369 333.068 C 4.749 333.780,4.126 334.587,3.984 334.861 C 3.842 335.134,3.261 336.076,2.695 336.952 C 1.160 339.326,0.758 340.231,0.832 341.142 C 0.939 342.456,1.737 342.111,4.681 339.478 C 6.628 337.738,13.698 333.665,14.772 333.665 C 14.905 333.665,16.051 333.320,17.318 332.897 C 19.898 332.036,22.409 331.344,23.606 331.163 C 24.044 331.097,24.806 330.921,25.299 330.772 C 25.792 330.623,26.912 330.445,27.789 330.377 C 28.665 330.309,30.100 330.112,30.976 329.940 C 33.176 329.508,43.107 329.513,45.020 329.948 C 45.732 330.110,46.853 330.303,47.510 330.378 C 49.131 330.563,51.885 331.376,52.656 331.898 C 55.599 333.890,59.082 341.658,61.753 352.191 C 61.990 353.123,62.308 354.334,62.462 354.885 C 62.724 355.824,63.031 357.197,63.554 359.761 C 63.677 360.364,63.945 361.619,64.150 362.550 C 64.355 363.481,64.578 364.736,64.645 365.339 C 64.713 365.941,64.888 366.882,65.036 367.430 C 65.183 367.978,65.367 369.271,65.445 370.304 C 65.522 371.336,65.670 372.457,65.773 372.794 C 65.877 373.131,66.085 374.751,66.236 376.394 C 67.137 386.166,67.455 386.485,71.116 381.288 C 78.670 370.563,88.314 361.931,100.257 355.205 C 101.417 354.552,108.142 351.170,109.088 350.764 C 109.513 350.582,110.264 350.252,110.757 350.032 C 112.966 349.046,118.569 346.966,119.669 346.725 C 120.024 346.647,120.365 346.500,120.428 346.399 C 120.490 346.298,120.738 346.211,120.978 346.206 C 121.218 346.202,121.773 346.064,122.211 345.900 C 123.676 345.352,127.474 344.357,130.179 343.814 C 130.727 343.704,131.982 343.444,132.968 343.237 C 133.954 343.030,135.523 342.766,136.454 342.651 C 138.613 342.384,140.740 341.902,141.298 341.552 C 142.489 340.806,143.152 340.769,144.879 341.351 C 147.437 342.215,151.186 341.995,152.986 340.876 C 154.613 339.865,154.609 339.864,155.874 341.377 C 157.184 342.943,160.172 346.016,160.384 346.016 C 160.464 346.016,160.648 346.133,160.793 346.276 C 161.578 347.052,166.747 349.561,172.012 351.721 C 172.669 351.991,173.386 352.315,173.606 352.442 C 173.825 352.569,174.959 352.709,176.127 352.752 L 178.249 352.832 179.137 352.013 C 180.122 351.105,180.553 351.012,181.162 351.575 C 182.040 352.387,184.266 353.734,185.871 354.424 C 189.017 355.778,190.460 356.164,192.397 356.171 C 194.030 356.176,195.982 357.030,198.847 358.993 C 199.143 359.196,199.662 359.363,200.000 359.363 C 200.338 359.363,200.857 359.196,201.153 358.993 C 204.076 356.990,205.871 356.245,208.068 356.120 C 211.196 355.944,214.914 354.483,218.024 352.211 C 219.686 350.996,219.789 350.986,220.768 351.942 L 221.533 352.689 223.665 352.689 C 225.697 352.689,227.313 352.308,228.386 351.575 C 228.496 351.501,229.213 351.193,229.980 350.893 C 232.296 349.986,236.911 347.822,237.849 347.203 C 238.123 347.023,238.720 346.630,239.176 346.331 C 240.289 345.600,242.238 343.687,243.912 341.680 C 245.444 339.845,245.443 339.845,246.991 340.856 C 247.472 341.170,248.144 341.467,248.485 341.517 C 252.709 342.129,252.569 342.134,255.242 341.313 C 256.889 340.807,257.368 340.827,258.566 341.450 C 259.553 341.963,262.311 342.591,264.619 342.828 C 265.702 342.940,266.983 343.164,267.464 343.328 C 267.946 343.492,268.588 343.625,268.889 343.625 C 269.191 343.625,269.972 343.770,270.625 343.947 C 271.278 344.124,272.216 344.347,272.709 344.443 C 273.202 344.538,274.233 344.803,275.000 345.031 C 275.767 345.259,277.022 345.631,277.789 345.859 C 278.556 346.086,279.497 346.389,279.880 346.531 C 280.264 346.673,280.802 346.847,281.076 346.917 C 281.350 346.986,282.022 347.212,282.570 347.417 C 283.118 347.623,284.193 348.024,284.960 348.310 C 286.760 348.979,288.194 349.554,288.944 349.906 C 289.273 350.060,290.214 350.470,291.036 350.817 C 293.024 351.655,299.526 354.994,301.394 356.137 C 301.778 356.372,302.440 356.767,302.866 357.017 C 303.291 357.266,303.787 357.560,303.967 357.669 C 304.262 357.849,307.160 359.811,308.665 360.851 C 309.628 361.516,312.277 363.502,312.577 363.785 C 312.728 363.927,313.703 364.752,314.743 365.619 C 318.837 369.028,325.662 376.469,328.190 380.278 C 329.877 382.820,331.511 384.661,332.080 384.661 C 332.751 384.661,332.763 384.629,333.161 381.873 C 333.327 380.722,333.551 379.198,333.659 378.486 C 333.768 377.774,333.860 376.609,333.863 375.896 C 333.867 375.184,334.001 374.048,334.160 373.372 C 334.320 372.696,334.507 371.396,334.576 370.484 C 334.645 369.571,334.872 368.095,335.080 367.204 C 335.288 366.312,335.458 365.281,335.458 364.912 C 335.458 364.544,335.637 363.615,335.857 362.849 C 336.076 362.082,336.255 361.227,336.255 360.949 C 336.255 360.670,336.401 359.908,336.578 359.255 C 336.756 358.602,337.020 357.485,337.165 356.773 C 337.420 355.523,337.599 354.804,338.457 351.594 C 341.515 340.146,344.989 332.853,347.971 331.617 C 349.382 331.032,351.304 330.503,352.490 330.373 C 353.147 330.301,354.268 330.109,354.980 329.947 C 356.849 329.521,367.284 329.519,369.124 329.944 C 369.836 330.109,371.218 330.306,372.195 330.381 C 373.172 330.457,374.293 330.632,374.685 330.769 C 375.077 330.907,375.847 331.081,376.394 331.157 C 377.676 331.334,380.547 332.136,384.328 333.376 C 388.683 334.802,393.284 337.484,396.713 340.593 C 398.200 341.941,398.678 342.186,399.117 341.822 C 399.802 341.253,399.268 339.854,397.098 336.525 C 396.503 335.611,396.016 334.803,396.016 334.728 C 396.016 334.654,395.585 334.093,395.058 333.482 C 394.531 332.871,393.391 331.519,392.526 330.478 C 389.518 326.861,385.866 323.143,381.627 319.382 C 377.647 315.851,369.677 310.052,365.239 307.460 C 364.691 307.139,364.094 306.787,363.913 306.676 C 359.724 304.117,350.258 299.134,346.016 297.254 C 345.523 297.036,344.492 296.567,343.725 296.213 C 340.975 294.943,336.922 293.165,335.259 292.499 C 334.328 292.126,333.297 291.696,332.968 291.544 C 332.252 291.213,329.646 290.232,327.988 289.669 C 327.331 289.445,326.210 289.026,325.498 288.736 C 320.866 286.851,319.275 286.563,317.677 287.320 C 317.062 287.611,316.487 287.849,316.401 287.849 C 316.314 287.849,315.793 288.021,315.243 288.232 C 312.807 289.168,311.157 289.549,304.482 290.723 C 302.334 291.100,296.422 291.937,293.924 292.217 C 289.891 292.669,289.921 292.668,290.289 292.433 C 290.481 292.311,290.637 292.089,290.637 291.940 C 290.637 291.131,298.326 284.071,299.634 283.679 C 301.858 283.013,307.099 282.958,310.657 283.564 C 311.534 283.714,313.147 283.892,314.243 283.961 C 315.339 284.031,316.728 284.210,317.331 284.359 C 317.933 284.509,319.143 284.696,320.019 284.774 C 320.895 284.853,321.882 284.995,322.211 285.091 C 322.540 285.188,323.660 285.354,324.701 285.461 C 325.742 285.569,327.221 285.743,327.988 285.849 C 328.755 285.955,330.144 286.147,331.076 286.275 C 332.007 286.402,332.931 286.591,333.128 286.693 C 333.326 286.795,334.043 286.966,334.722 287.074 C 335.401 287.182,336.284 287.439,336.686 287.647 C 339.023 288.853,340.016 287.925,339.240 285.258 C 339.128 284.875,338.941 283.934,338.824 283.167 C 338.706 282.400,338.497 281.594,338.359 281.375 C 338.221 281.155,338.045 280.618,337.969 280.179 C 337.892 279.741,337.641 278.979,337.412 278.486 C 337.182 277.993,336.817 277.186,336.600 276.693 C 336.384 276.200,336.038 275.465,335.832 275.060 C 335.627 274.655,335.458 274.205,335.458 274.061 C 335.458 273.917,335.279 273.464,335.060 273.056 C 334.841 272.647,334.661 272.185,334.661 272.029 C 334.661 271.769,331.685 265.822,330.444 263.602 C 330.151 263.078,329.769 262.380,329.596 262.052 C 328.966 260.861,326.489 257.069,325.106 255.179 C 324.665 254.577,324.153 253.860,323.969 253.586 C 323.784 253.312,323.537 252.998,323.419 252.888 C 323.301 252.779,322.724 252.107,322.139 251.394 C 318.874 247.427,310.719 239.198,307.171 236.290 C 304.896 234.426,304.951 234.560,304.926 230.824 C 304.896 226.254,305.404 222.270,306.776 216.314 C 306.994 215.371,307.171 214.446,307.171 214.259 C 307.171 214.071,307.343 213.139,307.554 212.188 C 308.369 208.498,308.736 206.467,309.466 201.594 C 309.638 200.443,309.903 198.695,310.055 197.709 C 310.206 196.723,310.386 195.289,310.454 194.522 C 310.522 193.755,310.720 192.141,310.894 190.936 C 311.143 189.213,311.221 186.593,311.262 178.658 C 311.323 166.947,311.164 167.851,313.519 165.773 C 316.486 163.155,319.767 159.739,320.916 158.070 C 321.190 157.672,321.504 157.240,321.614 157.110 C 321.975 156.680,324.098 153.368,324.703 152.291 C 325.897 150.166,327.768 146.403,328.683 144.286 C 329.243 142.992,329.828 141.663,329.982 141.335 C 330.483 140.268,332.616 134.103,333.326 131.673 C 334.197 128.688,334.413 127.838,334.947 125.299 C 336.009 120.239,335.995 120.318,336.903 114.143 C 337.233 111.901,337.130 98.065,336.764 95.418 C 336.605 94.268,336.422 92.654,336.357 91.833 C 336.235 90.286,335.556 85.285,335.303 84.069 C 335.038 82.794,335.408 82.827,322.584 82.951 C 313.784 83.036,310.676 83.130,309.636 83.343 C 308.883 83.497,307.173 83.685,305.835 83.761 C 304.498 83.837,303.009 84.017,302.526 84.162 C 302.044 84.308,300.718 84.486,299.580 84.559 C 298.441 84.632,297.060 84.816,296.511 84.968 C 295.961 85.119,294.617 85.333,293.523 85.442 C 292.429 85.551,291.094 85.779,290.556 85.948 C 290.018 86.117,289.147 86.255,288.621 86.255 C 288.095 86.255,287.209 86.434,286.653 86.653 C 286.097 86.873,285.282 87.052,284.840 87.052 C 284.399 87.052,283.618 87.224,283.105 87.433 C 282.591 87.643,281.744 87.866,281.222 87.928 C 280.699 87.990,280.009 88.177,279.688 88.343 C 279.366 88.509,278.849 88.645,278.538 88.645 C 278.227 88.645,277.646 88.812,277.247 89.016 C 276.847 89.219,276.189 89.440,275.784 89.505 C 275.034 89.627,273.463 90.188,271.990 90.861 C 271.540 91.067,271.035 91.235,270.869 91.235 C 270.703 91.235,270.455 91.370,270.319 91.534 C 270.182 91.698,269.961 91.833,269.826 91.833 C 269.691 91.833,269.187 92.042,268.705 92.297 C 268.223 92.553,267.560 92.827,267.231 92.907 C 266.902 92.986,266.252 93.225,265.787 93.438 C 265.321 93.651,264.514 94.010,263.994 94.235 C 263.474 94.461,262.779 94.767,262.450 94.915 C 262.122 95.063,261.315 95.422,260.657 95.713 C 260.000 96.003,259.014 96.479,258.466 96.771 C 257.918 97.062,257.112 97.474,256.673 97.687 C 256.235 97.900,255.742 98.183,255.578 98.317 C 255.413 98.451,254.766 98.831,254.139 99.162 C 253.513 99.494,252.587 100.043,252.082 100.384 C 249.886 101.866,246.921 102.750,245.589 102.319 C 245.032 102.139,244.401 101.992,244.187 101.992 C 243.974 101.992,243.379 101.820,242.866 101.610 C 242.352 101.401,241.493 101.176,240.956 101.112 C 240.420 101.048,239.872 100.905,239.739 100.795 C 239.606 100.684,238.969 100.499,238.324 100.382 C 237.679 100.266,236.789 100.050,236.345 99.902 C 235.902 99.754,234.871 99.574,234.054 99.501 C 233.238 99.428,232.032 99.241,231.375 99.086 C 230.717 98.931,229.373 98.714,228.386 98.603 C 227.400 98.492,226.011 98.269,225.299 98.109 C 224.587 97.948,223.643 97.815,223.201 97.813 C 222.759 97.811,221.907 97.676,221.308 97.514 C 220.709 97.351,219.009 97.124,217.530 97.008 C 216.051 96.892,214.392 96.701,213.845 96.584 C 213.297 96.467,210.990 96.324,208.717 96.266 C 205.758 96.192,204.528 96.091,204.379 95.912 C 204.040 95.503,204.207 76.925,204.552 76.712 C 204.700 76.620,205.566 76.485,206.477 76.411 C 207.387 76.337,208.631 76.102,209.241 75.887 C 209.850 75.673,210.579 75.498,210.860 75.498 C 211.141 75.498,211.722 75.319,212.151 75.100 C 212.581 74.880,213.118 74.701,213.345 74.701 C 213.694 74.701,214.984 74.235,216.633 73.513 C 216.853 73.417,217.563 73.105,218.212 72.820 C 219.991 72.038,222.845 70.370,224.342 69.237 C 225.076 68.681,226.062 67.941,226.533 67.591 C 228.708 65.976,232.192 62.111,233.991 59.318 C 234.504 58.521,235.083 57.634,235.278 57.347 C 236.507 55.530,238.306 51.122,239.413 47.211 C 240.897 41.969,240.534 32.925,238.634 27.789 C 238.431 27.241,238.204 26.524,238.130 26.195 C 236.872 20.663,230.150 12.299,222.921 7.271 C 218.991 4.538,211.598 1.815,205.607 0.892 C 204.373 0.702,203.241 0.424,203.091 0.273 C 202.705 -0.112,197.218 -0.106,196.879 0.280 M205.396 7.244 C 210.098 7.888,216.544 10.358,219.395 12.609 C 219.818 12.943,220.669 13.551,221.287 13.961 C 222.571 14.813,225.338 17.444,226.193 18.625 C 226.510 19.064,227.010 19.691,227.305 20.020 C 232.837 26.196,235.281 38.264,232.730 46.813 C 231.524 50.855,229.067 55.681,227.254 57.570 C 226.991 57.844,226.491 58.483,226.143 58.991 C 225.436 60.022,222.724 62.615,221.449 63.478 C 220.991 63.787,220.035 64.458,219.323 64.968 C 208.854 72.465,191.116 72.463,180.677 64.965 C 179.965 64.453,179.129 63.873,178.819 63.676 C 177.769 63.007,175.142 60.575,174.372 59.558 C 173.950 59.002,173.310 58.215,172.949 57.809 C 168.720 53.056,165.678 43.807,166.227 37.373 C 166.826 30.355,169.276 23.790,172.703 20.020 C 173.002 19.691,173.390 19.207,173.565 18.944 C 174.329 17.799,177.591 14.665,178.884 13.833 C 179.377 13.517,180.143 12.968,180.586 12.614 C 186.003 8.292,196.485 6.023,205.396 7.244 M195.518 9.093 C 186.756 10.391,178.609 15.961,174.291 23.606 C 173.272 25.411,172.510 26.952,172.510 27.209 C 172.510 27.305,172.335 27.833,172.120 28.383 C 170.118 33.521,169.850 40.505,171.438 46.187 C 171.724 47.212,172.082 48.288,172.233 48.577 C 172.384 48.867,172.508 49.224,172.509 49.372 C 172.513 50.210,175.202 54.709,177.111 57.072 C 180.620 61.414,186.235 65.159,191.135 66.426 C 191.683 66.567,192.625 66.824,193.227 66.996 C 196.302 67.873,203.192 67.843,206.375 66.938 C 207.087 66.736,207.967 66.509,208.330 66.434 C 208.694 66.359,209.231 66.172,209.525 66.018 C 209.819 65.865,210.188 65.739,210.344 65.738 C 211.033 65.735,214.963 63.564,217.054 62.032 C 219.916 59.935,225.100 54.187,225.100 53.111 C 225.100 53.064,225.403 52.489,225.775 51.832 C 226.146 51.175,226.561 50.292,226.697 49.870 C 226.833 49.449,227.012 49.014,227.094 48.904 C 227.304 48.626,228.232 45.486,228.390 44.522 C 228.461 44.084,228.647 43.079,228.802 42.289 C 229.413 39.174,229.000 33.735,227.866 29.980 C 224.691 19.473,216.731 12.076,205.777 9.456 C 204.324 9.108,197.132 8.854,195.518 9.093 M209.258 16.425 C 209.699 16.662,210.418 17.097,210.857 17.392 C 211.295 17.688,212.012 18.168,212.450 18.460 C 215.347 20.392,216.610 23.115,215.210 24.412 C 214.084 25.456,212.677 25.090,210.558 23.204 C 209.736 22.472,208.750 21.702,208.367 21.492 C 206.523 20.485,205.375 19.689,205.146 19.260 C 203.738 16.629,206.320 14.849,209.258 16.425 M219.996 28.174 C 220.604 28.970,220.640 29.310,220.190 29.997 C 219.121 31.628,216.733 31.053,216.733 29.166 C 216.733 27.456,218.938 26.786,219.996 28.174 M91.633 89.310 C 92.236 89.470,93.761 89.650,95.022 89.711 C 96.315 89.773,97.617 89.947,98.010 90.109 C 98.392 90.268,99.512 90.459,100.498 90.534 C 101.484 90.608,102.649 90.797,103.088 90.952 C 103.526 91.108,104.602 91.322,105.478 91.428 C 106.355 91.534,107.562 91.758,108.161 91.926 C 108.760 92.094,109.567 92.235,109.954 92.240 C 110.341 92.245,111.016 92.379,111.454 92.539 C 111.892 92.698,112.865 92.927,113.615 93.046 C 114.366 93.166,115.262 93.379,115.607 93.520 C 115.953 93.661,116.682 93.840,117.228 93.919 C 117.775 93.998,118.447 94.178,118.722 94.318 C 118.998 94.459,119.625 94.641,120.115 94.723 C 120.606 94.804,121.188 94.988,121.410 95.130 C 121.632 95.272,122.171 95.454,122.610 95.533 C 123.048 95.613,123.586 95.789,123.805 95.924 C 124.024 96.060,124.548 96.280,124.969 96.414 C 125.391 96.548,125.974 96.781,126.264 96.933 C 126.555 97.085,126.913 97.209,127.061 97.210 C 127.208 97.211,127.567 97.337,127.858 97.492 C 128.391 97.775,130.157 98.600,131.076 98.995 C 131.350 99.113,132.022 99.459,132.570 99.764 C 133.118 100.068,134.283 100.707,135.159 101.184 C 138.892 103.212,140.308 104.064,141.193 104.814 C 141.709 105.252,142.391 105.830,142.709 106.100 C 143.527 106.794,143.193 107.288,141.277 108.224 C 138.402 109.626,136.383 110.750,135.870 111.234 C 135.589 111.499,135.042 111.846,134.656 112.005 C 129.434 114.149,116.214 125.306,109.579 133.167 C 108.561 134.373,107.499 135.627,107.217 135.956 C 106.603 136.672,103.072 141.447,101.742 143.359 C 100.647 144.932,99.567 146.622,97.696 149.688 C 96.532 151.596,95.935 152.674,94.046 156.275 C 93.558 157.204,92.940 158.651,92.727 159.363 C 92.606 159.765,92.286 160.322,91.716 161.120 C 91.474 161.460,89.695 159.845,88.136 157.869 C 87.704 157.322,86.606 156.068,85.696 155.082 C 84.786 154.097,83.731 152.841,83.353 152.293 C 80.523 148.189,78.884 145.615,78.884 145.275 C 78.884 145.054,78.705 144.647,78.486 144.368 C 78.267 144.089,78.088 143.710,78.088 143.526 C 78.088 143.341,77.908 142.962,77.689 142.684 C 77.470 142.405,77.291 142.043,77.291 141.879 C 77.291 141.715,77.127 141.301,76.926 140.960 C 76.725 140.618,76.442 139.958,76.296 139.492 C 76.151 139.026,75.957 138.645,75.865 138.645 C 75.773 138.645,75.694 138.489,75.691 138.297 C 75.688 138.105,75.464 137.500,75.195 136.952 C 74.925 136.404,74.704 135.810,74.703 135.632 C 74.702 135.454,74.574 135.202,74.418 135.073 C 74.262 134.943,74.073 134.462,73.998 134.002 C 73.923 133.543,73.741 133.031,73.595 132.865 C 73.449 132.699,73.232 132.127,73.112 131.595 C 72.993 131.062,72.764 130.439,72.603 130.209 C 72.442 129.980,72.311 129.501,72.311 129.146 C 72.311 128.791,72.131 128.046,71.912 127.490 C 71.693 126.934,71.514 126.133,71.514 125.711 C 71.514 125.288,71.342 124.373,71.132 123.676 C 70.922 122.980,70.687 121.740,70.609 120.921 C 70.532 120.102,70.350 119.096,70.205 118.686 C 70.060 118.275,69.880 117.153,69.803 116.191 C 69.727 115.229,69.542 114.039,69.391 113.546 C 68.487 110.588,68.426 90.424,69.317 89.349 C 69.784 88.787,89.529 88.752,91.633 89.310 M330.654 89.334 C 330.897 89.576,330.996 90.370,331.112 92.979 C 331.194 94.814,331.342 97.613,331.442 99.200 C 331.670 102.822,331.160 112.176,330.664 113.482 C 330.553 113.774,330.376 114.915,330.271 116.018 C 330.166 117.121,329.953 118.428,329.797 118.922 C 329.642 119.416,329.455 120.491,329.382 121.311 C 329.309 122.131,329.131 123.086,328.985 123.434 C 328.840 123.782,328.657 124.680,328.578 125.430 C 328.500 126.180,328.324 127.017,328.188 127.291 C 328.052 127.565,327.877 128.237,327.799 128.785 C 327.722 129.333,327.537 129.969,327.389 130.200 C 327.242 130.430,327.058 130.968,326.982 131.395 C 326.906 131.822,326.676 132.451,326.470 132.792 C 326.264 133.134,326.096 133.584,326.096 133.791 C 326.096 133.999,325.916 134.504,325.697 134.913 C 325.478 135.321,325.299 135.758,325.299 135.884 C 325.299 136.101,325.044 136.698,323.982 138.964 C 323.720 139.523,323.506 140.117,323.506 140.284 C 323.506 140.452,323.377 140.695,323.220 140.826 C 323.063 140.957,322.872 141.349,322.796 141.697 C 322.720 142.046,322.490 142.544,322.285 142.806 C 322.080 143.067,321.912 143.408,321.912 143.563 C 321.912 143.718,321.733 144.199,321.514 144.632 C 321.295 145.064,320.924 145.799,320.689 146.265 C 320.282 147.074,318.999 149.038,317.338 151.394 C 316.914 151.997,316.044 153.091,315.405 153.826 C 314.766 154.561,313.571 155.948,312.749 156.909 C 308.738 161.599,308.029 161.912,307.270 159.325 C 307.003 158.413,306.126 156.269,305.912 156.005 C 305.666 155.701,305.264 155.031,305.058 154.582 C 304.983 154.417,304.799 154.014,304.650 153.685 C 304.501 153.357,304.162 152.729,303.897 152.291 C 303.631 151.853,303.273 151.225,303.100 150.896 C 302.689 150.115,301.627 148.415,299.428 145.020 C 293.724 136.216,283.878 125.256,276.891 119.936 C 276.399 119.561,275.906 119.157,275.797 119.039 C 275.614 118.842,274.059 117.652,272.610 116.600 C 272.281 116.361,271.116 115.564,270.020 114.828 C 268.924 114.091,267.785 113.323,267.488 113.119 C 267.191 112.916,266.892 112.749,266.822 112.749 C 266.753 112.749,266.468 112.570,266.190 112.351 C 265.911 112.131,265.551 111.952,265.390 111.952 C 265.229 111.952,264.732 111.661,264.285 111.305 C 263.838 110.949,263.038 110.433,262.506 110.159 C 257.458 107.558,256.761 107.136,256.784 106.692 C 256.803 106.337,260.855 103.187,261.293 103.187 C 261.349 103.187,262.798 102.395,264.512 101.427 C 268.678 99.075,270.390 98.259,274.801 96.527 C 277.495 95.468,278.638 95.078,280.177 94.692 C 280.833 94.527,281.460 94.318,281.571 94.227 C 281.682 94.136,282.221 93.997,282.769 93.918 C 283.317 93.840,284.047 93.661,284.393 93.520 C 284.738 93.379,285.634 93.166,286.385 93.047 C 287.135 92.928,288.189 92.696,288.727 92.531 C 289.265 92.366,289.995 92.231,290.349 92.231 C 290.704 92.231,291.564 92.061,292.260 91.853 C 292.956 91.645,294.143 91.418,294.897 91.347 C 295.650 91.276,296.549 91.101,296.893 90.957 C 297.237 90.814,298.355 90.630,299.379 90.550 C 300.402 90.470,301.611 90.274,302.064 90.114 C 302.517 89.954,304.114 89.747,305.614 89.653 C 307.113 89.559,308.458 89.407,308.602 89.314 C 309.467 88.760,330.099 88.778,330.654 89.334 M82.671 93.628 C 81.302 93.723,79.643 93.891,78.985 94.002 C 78.327 94.113,77.122 94.266,76.306 94.342 C 74.003 94.558,73.992 94.577,73.815 98.862 C 73.645 102.979,73.819 108.315,74.206 110.857 C 74.357 111.843,74.536 113.456,74.605 114.442 C 74.673 115.428,74.823 116.594,74.937 117.032 C 75.051 117.470,75.257 118.591,75.396 119.522 C 75.664 121.321,76.130 123.427,76.586 124.900 C 76.739 125.393,76.925 126.155,76.999 126.594 C 77.156 127.523,78.466 131.519,79.218 133.367 C 79.548 134.176,81.856 139.113,82.349 140.062 C 83.617 142.506,85.047 145.115,85.763 146.293 C 86.236 147.072,86.959 148.288,87.369 148.996 C 87.779 149.703,88.373 150.567,88.689 150.915 C 89.006 151.262,89.372 151.688,89.503 151.860 C 90.354 152.979,90.939 152.665,92.045 150.498 C 92.268 150.060,92.896 149.029,93.440 148.207 C 93.984 147.385,94.539 146.489,94.674 146.215 C 94.909 145.741,96.920 142.700,98.203 140.879 C 98.534 140.410,98.805 139.979,98.805 139.922 C 98.805 139.864,99.167 139.352,99.609 138.783 C 101.328 136.572,104.846 132.166,104.968 132.072 C 105.039 132.017,105.981 130.986,107.062 129.781 C 112.711 123.484,117.523 119.223,126.693 112.398 C 127.625 111.705,128.544 111.007,128.737 110.848 C 128.930 110.688,129.159 110.558,129.246 110.558 C 129.333 110.558,129.708 110.334,130.080 110.060 C 130.451 109.786,130.878 109.562,131.029 109.562 C 131.794 109.562,133.100 108.343,132.809 107.900 C 132.276 107.091,124.027 102.619,119.721 100.805 C 118.899 100.459,118.048 100.096,117.829 99.999 C 115.337 98.892,107.759 96.496,105.279 96.032 C 104.731 95.929,104.059 95.761,103.785 95.657 C 103.511 95.553,102.615 95.362,101.793 95.232 C 100.971 95.101,100.030 94.907,99.701 94.800 C 97.183 93.979,87.361 93.303,82.671 93.628 M308.622 93.641 C 304.159 94.101,300.008 94.777,296.514 95.613 C 295.637 95.823,294.607 96.054,294.223 96.127 C 293.840 96.200,292.943 96.433,292.231 96.646 C 288.830 97.659,288.240 97.839,286.753 98.320 C 282.702 99.630,273.420 103.783,272.112 104.870 C 271.947 105.007,271.664 105.171,271.482 105.235 C 271.301 105.300,270.552 105.717,269.819 106.162 C 269.085 106.608,268.425 106.972,268.351 106.972 C 268.277 106.972,267.915 107.248,267.546 107.584 C 266.722 108.337,266.757 108.381,269.223 109.671 C 270.209 110.186,271.439 110.933,271.955 111.330 C 272.472 111.727,273.669 112.634,274.616 113.347 C 276.515 114.774,280.351 117.748,280.976 118.277 C 281.195 118.463,282.181 119.287,283.167 120.109 C 287.195 123.467,293.250 129.780,297.506 135.060 C 298.786 136.648,299.994 138.137,300.190 138.368 C 300.385 138.599,300.580 138.873,300.621 138.977 C 300.663 139.081,301.504 140.353,302.490 141.803 C 303.476 143.254,304.374 144.593,304.484 144.780 C 304.717 145.172,305.095 145.765,306.348 147.709 C 306.842 148.476,307.601 149.731,308.034 150.498 C 309.495 153.086,310.503 152.634,313.170 148.196 C 313.760 147.214,314.473 146.031,314.754 145.566 C 315.739 143.940,318.127 139.256,318.127 138.952 C 318.127 138.783,318.198 138.645,318.285 138.645 C 318.372 138.645,318.695 138.085,319.004 137.400 C 319.312 136.716,319.790 135.662,320.066 135.060 C 320.956 133.115,321.097 132.784,321.423 131.873 C 321.600 131.379,321.879 130.528,322.044 129.980 C 322.208 129.432,322.462 128.715,322.608 128.386 C 322.754 128.058,322.938 127.341,323.015 126.793 C 323.093 126.245,323.274 125.509,323.418 125.157 C 323.561 124.805,323.742 124.088,323.820 123.563 C 323.897 123.039,324.078 122.275,324.221 121.867 C 324.364 121.459,324.540 120.562,324.611 119.875 C 324.682 119.188,324.868 118.111,325.024 117.483 C 325.180 116.855,325.390 115.286,325.490 113.997 C 325.590 112.708,325.789 111.160,325.931 110.558 C 326.444 108.394,326.296 95.530,325.752 94.986 C 325.299 94.533,325.018 94.481,319.522 93.837 C 316.983 93.539,310.706 93.426,308.622 93.641 M212.251 103.565 C 213.894 103.687,215.956 103.877,216.833 103.986 C 220.894 104.490,224.230 104.957,224.502 105.061 C 224.666 105.124,225.697 105.309,226.793 105.474 C 229.855 105.934,234.486 106.947,236.505 107.598 C 237.135 107.802,237.764 107.968,237.902 107.968 C 238.040 107.968,238.488 108.147,238.897 108.367 C 239.305 108.586,239.822 108.765,240.046 108.765 C 240.269 108.765,240.784 108.911,241.192 109.089 C 241.599 109.267,242.515 109.530,243.227 109.672 C 244.713 109.969,246.261 110.449,247.078 110.867 C 247.388 111.026,247.747 111.156,247.875 111.157 C 248.003 111.158,248.556 111.380,249.104 111.649 C 249.651 111.918,250.183 112.142,250.285 112.145 C 250.454 112.151,255.679 114.727,256.375 115.147 C 256.539 115.247,257.600 115.846,258.734 116.479 C 259.867 117.112,261.122 117.827,261.523 118.068 C 261.923 118.309,262.385 118.572,262.550 118.652 C 262.714 118.732,263.073 118.948,263.347 119.132 C 263.621 119.315,264.786 120.075,265.936 120.819 C 268.589 122.537,271.467 124.459,272.112 124.945 C 273.281 125.826,274.088 126.414,274.512 126.693 C 274.953 126.985,277.888 129.367,279.283 130.567 C 280.836 131.902,287.450 138.722,287.450 138.987 C 287.450 139.016,288.160 139.972,289.027 141.113 C 289.894 142.254,291.294 144.250,292.139 145.548 C 292.983 146.846,294.038 148.446,294.483 149.104 C 294.929 149.761,296.023 151.375,296.916 152.689 C 297.808 154.004,298.681 155.349,298.856 155.677 C 303.302 164.029,304.980 170.897,304.980 180.744 C 304.980 184.570,304.484 191.416,304.090 193.028 C 303.943 193.630,303.762 195.065,303.690 196.215 C 303.617 197.366,303.433 198.755,303.281 199.303 C 303.130 199.851,302.944 200.971,302.869 201.793 C 302.793 202.615,302.615 203.621,302.472 204.029 C 302.329 204.438,302.157 205.334,302.089 206.021 C 302.022 206.709,301.838 207.633,301.680 208.075 C 301.523 208.517,301.315 209.512,301.217 210.287 C 301.120 211.062,300.939 211.886,300.815 212.118 C 300.691 212.350,300.503 213.220,300.397 214.053 C 300.292 214.885,300.080 215.941,299.928 216.399 C 299.775 216.856,299.590 218.262,299.517 219.522 C 299.444 220.782,299.258 222.530,299.104 223.406 C 298.950 224.283,298.730 226.345,298.617 227.988 C 298.477 230.025,298.290 231.293,298.031 231.972 L 297.650 232.968 295.060 233.024 C 292.021 233.089,291.477 233.339,292.536 234.186 C 292.861 234.446,293.217 234.660,293.327 234.662 C 293.436 234.663,294.625 235.224,295.968 235.908 C 298.288 237.090,298.997 237.586,304.202 241.679 C 309.319 245.701,318.941 256.321,322.410 261.774 C 322.739 262.290,323.329 263.192,323.720 263.777 C 324.375 264.755,324.876 265.527,325.396 266.358 C 325.507 266.536,325.767 266.984,325.974 267.354 C 326.181 267.725,326.417 268.073,326.499 268.127 C 326.581 268.182,326.797 268.541,326.977 268.924 C 327.319 269.648,327.769 270.450,328.597 271.813 C 328.863 272.251,329.215 272.895,329.378 273.243 C 329.541 273.592,329.768 273.934,329.880 274.004 C 329.993 274.074,330.218 274.416,330.380 274.765 C 330.542 275.113,330.901 275.757,331.178 276.195 C 331.454 276.633,331.994 277.620,332.377 278.386 C 332.760 279.153,333.155 279.915,333.254 280.080 C 334.708 282.487,334.532 283.021,332.497 282.377 C 331.233 281.978,329.083 281.479,327.291 281.168 C 326.469 281.026,325.559 280.818,325.268 280.706 C 324.977 280.594,324.170 280.444,323.475 280.374 C 322.780 280.304,321.762 280.123,321.213 279.972 C 320.663 279.821,319.229 279.605,318.025 279.491 C 316.822 279.377,315.523 279.192,315.139 279.079 C 314.756 278.966,312.970 278.783,311.170 278.673 C 309.371 278.563,307.533 278.390,307.087 278.291 C 306.640 278.191,304.885 278.008,303.187 277.884 C 301.489 277.760,300.014 277.576,299.910 277.475 C 299.654 277.225,294.474 277.236,294.389 277.486 C 294.353 277.594,293.853 277.770,293.278 277.879 C 292.704 277.988,292.031 278.204,291.784 278.359 C 291.537 278.514,291.008 278.698,290.608 278.768 C 290.208 278.838,289.771 279.027,289.637 279.189 C 289.503 279.350,289.197 279.482,288.958 279.482 C 287.395 279.482,287.798 280.648,289.511 281.080 C 291.402 281.556,291.399 281.471,289.582 283.309 C 288.684 284.218,287.455 285.499,286.853 286.156 C 286.250 286.813,285.443 287.623,285.060 287.956 C 283.647 289.182,280.153 291.996,279.283 292.608 C 277.844 293.619,275.845 294.936,275.199 295.298 C 274.871 295.483,274.243 295.850,273.805 296.114 C 273.367 296.378,272.874 296.654,272.709 296.727 C 272.545 296.800,271.066 297.515,269.422 298.316 C 264.973 300.485,263.226 301.225,259.781 302.403 C 258.751 302.754,257.676 303.164,257.391 303.313 C 257.106 303.462,256.738 303.584,256.574 303.586 C 256.409 303.587,256.019 303.722,255.705 303.885 C 255.392 304.049,254.630 304.326,254.012 304.503 C 253.394 304.679,252.306 304.992,251.594 305.199 C 248.566 306.079,246.644 306.595,245.618 306.802 C 245.015 306.924,243.939 307.181,243.227 307.373 C 242.515 307.565,241.394 307.817,240.737 307.933 C 240.080 308.049,239.094 308.239,238.546 308.355 C 236.223 308.847,234.243 309.203,232.436 309.453 C 231.376 309.599,230.425 309.770,230.323 309.833 C 230.221 309.896,229.071 310.081,227.768 310.243 C 226.465 310.405,224.950 310.630,224.402 310.743 C 223.855 310.857,222.151 311.040,220.618 311.152 C 219.084 311.264,217.515 311.442,217.131 311.548 C 216.748 311.654,215.053 311.833,213.365 311.946 C 211.678 312.058,209.705 312.263,208.983 312.400 C 207.155 312.747,192.847 312.747,191.019 312.400 C 190.298 312.263,188.397 312.063,186.795 311.955 C 185.193 311.847,183.462 311.664,182.947 311.549 C 182.432 311.434,180.792 311.251,179.302 311.143 C 177.812 311.035,175.921 310.817,175.100 310.659 C 174.278 310.501,173.023 310.315,172.311 310.246 C 171.599 310.177,170.523 310.002,169.920 309.857 C 169.318 309.713,168.242 309.537,167.530 309.466 C 166.818 309.394,165.787 309.214,165.239 309.065 C 164.691 308.917,163.705 308.737,163.048 308.666 C 162.390 308.596,161.404 308.408,160.857 308.249 C 160.309 308.090,159.188 307.831,158.367 307.674 C 154.343 306.907,147.119 304.957,144.585 303.955 C 144.071 303.752,143.547 303.586,143.419 303.586 C 143.292 303.586,142.905 303.457,142.560 303.301 C 141.448 302.796,139.318 301.992,139.093 301.992 C 138.875 301.992,136.060 300.901,135.471 300.588 C 135.299 300.497,134.622 300.184,133.964 299.892 C 131.373 298.741,125.736 295.881,124.661 295.172 C 124.036 294.759,123.475 294.422,123.413 294.422 C 123.315 294.422,122.749 294.028,120.333 292.282 C 118.153 290.706,113.888 287.058,112.951 285.967 C 112.569 285.523,111.501 284.376,110.576 283.418 C 109.651 282.460,108.942 281.629,108.999 281.572 C 109.056 281.515,109.617 281.334,110.245 281.171 C 112.418 280.604,112.916 279.482,110.994 279.482 C 110.781 279.482,110.503 279.358,110.377 279.205 C 110.251 279.053,109.725 278.822,109.210 278.693 C 108.694 278.563,108.173 278.374,108.051 278.273 C 107.929 278.171,107.345 277.997,106.753 277.885 C 106.161 277.773,105.647 277.594,105.611 277.486 C 105.526 277.236,100.347 277.225,100.090 277.475 C 99.986 277.576,98.595 277.754,96.999 277.871 C 95.403 277.988,93.632 278.172,93.062 278.280 C 92.493 278.388,90.572 278.569,88.793 278.683 C 87.013 278.796,85.020 279.021,84.363 279.182 C 83.705 279.344,82.719 279.479,82.171 279.482 C 81.624 279.486,80.548 279.628,79.781 279.797 C 79.014 279.966,77.759 280.186,76.992 280.284 C 76.225 280.382,75.105 280.594,74.502 280.755 C 73.486 281.025,72.605 281.222,69.082 281.966 C 68.347 282.121,67.569 282.343,67.352 282.459 C 64.981 283.727,65.622 281.684,69.821 274.586 C 70.797 272.935,72.254 270.392,72.379 270.120 C 72.455 269.955,72.782 269.417,73.107 268.924 C 73.432 268.431,73.778 267.849,73.877 267.629 C 74.050 267.246,75.217 265.426,76.497 263.546 C 76.832 263.053,77.391 262.201,77.739 261.653 C 78.087 261.106,78.428 260.613,78.496 260.558 C 78.565 260.503,78.933 260.001,79.314 259.443 C 79.695 258.884,80.113 258.302,80.244 258.148 C 80.374 257.994,81.272 256.867,82.240 255.643 C 85.935 250.969,94.868 241.939,96.970 240.754 C 97.148 240.654,98.233 239.826,99.381 238.915 C 101.457 237.266,102.601 236.559,104.880 235.516 C 109.015 233.624,109.054 233.076,105.054 233.071 C 103.343 233.069,102.577 232.994,102.428 232.814 C 101.948 232.235,101.622 230.602,101.404 227.684 C 101.277 225.983,101.090 224.235,100.987 223.800 C 100.885 223.364,100.705 221.681,100.587 220.059 C 100.470 218.437,100.252 216.767,100.104 216.348 C 99.957 215.929,99.778 215.060,99.707 214.417 C 99.636 213.773,99.449 212.885,99.291 212.443 C 99.133 212.001,98.924 211.006,98.827 210.231 C 98.730 209.456,98.552 208.639,98.433 208.417 C 98.314 208.194,98.129 207.242,98.022 206.301 C 97.915 205.361,97.727 204.404,97.605 204.175 C 97.482 203.946,97.295 202.909,97.189 201.871 C 97.083 200.833,96.903 199.741,96.790 199.444 C 96.677 199.147,96.496 197.784,96.388 196.414 C 96.280 195.045,96.069 193.431,95.918 192.829 C 95.203 189.965,94.887 179.086,95.371 174.004 C 95.846 169.020,97.265 163.854,99.421 159.250 C 99.630 158.804,99.801 158.385,99.801 158.319 C 99.801 158.074,102.170 154.041,103.165 152.590 C 103.729 151.768,105.258 149.482,106.563 147.510 C 113.122 137.596,117.719 132.610,126.081 126.341 C 129.393 123.857,138.365 117.928,138.811 117.928 C 138.923 117.928,139.143 117.800,139.299 117.644 C 139.456 117.488,139.888 117.216,140.260 117.040 C 140.632 116.863,141.295 116.501,141.733 116.235 C 143.284 115.292,147.303 113.234,149.303 112.358 C 149.851 112.118,150.537 111.794,150.828 111.638 C 151.118 111.482,151.467 111.355,151.603 111.355 C 151.738 111.355,152.217 111.183,152.667 110.974 C 153.784 110.456,155.886 109.805,156.972 109.641 C 157.465 109.567,158.096 109.392,158.373 109.252 C 158.651 109.113,159.234 108.933,159.668 108.852 C 160.103 108.772,160.771 108.540,161.152 108.337 C 161.534 108.134,162.002 107.968,162.191 107.968 C 162.380 107.968,162.964 107.801,163.489 107.596 C 164.013 107.392,164.890 107.159,165.438 107.079 C 165.986 106.998,166.574 106.858,166.745 106.767 C 166.916 106.675,167.812 106.463,168.737 106.294 C 171.081 105.868,173.540 105.411,175.299 105.075 C 176.121 104.918,177.600 104.699,178.586 104.589 C 179.572 104.479,181.275 104.257,182.371 104.097 C 183.466 103.937,186.155 103.700,188.347 103.572 C 190.538 103.444,192.375 103.297,192.430 103.246 C 192.615 103.072,209.239 103.340,212.251 103.565 M118.485 215.336 C 113.749 216.063,112.104 219.139,115.285 221.318 L 116.007 221.813 122.994 221.755 C 127.193 221.720,130.417 221.778,131.076 221.901 C 131.678 222.013,132.933 222.203,133.865 222.322 C 139.846 223.089,148.204 225.989,152.888 228.924 C 156.979 231.487,160.242 233.971,162.251 236.052 C 164.504 238.386,166.980 238.472,168.157 236.258 C 169.273 234.158,167.656 231.418,163.247 227.943 C 160.849 226.053,159.838 225.346,157.264 223.763 C 155.130 222.450,149.813 219.721,149.389 219.721 C 149.266 219.721,148.927 219.590,148.636 219.430 C 147.124 218.598,141.016 216.707,138.944 216.430 C 138.396 216.357,137.501 216.169,136.955 216.014 C 136.408 215.858,134.795 215.639,133.369 215.528 C 131.943 215.417,130.329 215.244,129.781 215.145 C 128.006 214.823,121.061 214.940,118.485 215.336 M270.219 215.152 C 269.781 215.242,268.212 215.413,266.733 215.530 C 265.254 215.648,263.596 215.869,263.048 216.022 C 262.500 216.175,261.559 216.362,260.956 216.439 C 260.354 216.515,259.592 216.689,259.263 216.824 C 258.934 216.959,258.307 217.134,257.869 217.214 C 257.057 217.362,254.486 218.194,252.689 218.890 C 242.103 222.993,231.474 230.926,231.474 234.723 C 231.474 236.367,232.922 237.849,234.529 237.849 C 235.644 237.849,236.488 237.362,238.116 235.781 C 239.653 234.288,241.572 232.639,242.431 232.072 C 242.680 231.907,243.118 231.589,243.404 231.364 C 243.912 230.965,245.414 229.980,246.813 229.128 C 247.597 228.651,252.160 226.375,253.685 225.701 C 257.143 224.173,261.497 223.007,266.335 222.314 C 267.156 222.196,268.322 222.009,268.924 221.899 C 269.572 221.780,272.879 221.721,277.006 221.755 L 283.993 221.813 284.731 221.315 C 286.766 219.941,286.745 217.591,284.686 216.228 C 283.123 215.193,273.475 214.475,270.219 215.152 M196.194 217.800 C 185.792 220.489,173.073 233.695,170.899 244.065 C 170.791 244.581,170.572 245.254,170.412 245.559 C 169.515 247.279,170.511 249.157,175.938 255.976 C 177.882 258.419,177.938 258.482,181.610 262.450 C 183.822 264.840,189.202 270.090,192.530 273.107 C 194.579 274.964,196.016 276.416,196.016 276.630 C 196.016 276.733,195.209 277.634,194.223 278.631 C 192.404 280.471,192.300 280.668,192.406 282.072 C 192.427 282.347,192.751 282.859,193.131 283.217 C 194.363 284.377,195.613 284.008,198.104 281.750 C 199.931 280.094,200.109 280.099,202.111 281.870 C 204.480 283.964,205.430 284.284,206.714 283.416 C 208.366 282.301,208.056 280.837,205.675 278.495 C 204.745 277.581,203.984 276.771,203.984 276.697 C 203.984 276.445,205.260 275.165,208.267 272.402 C 217.320 264.080,224.025 256.719,228.156 250.563 C 230.112 247.648,230.229 247.177,229.511 245.120 C 229.397 244.791,229.032 243.652,228.701 242.588 C 224.780 229.981,210.720 217.644,200.000 217.404 C 198.370 217.367,197.530 217.454,196.194 217.800 M201.731 222.417 C 208.700 223.988,216.691 230.532,221.666 238.745 C 222.477 240.084,223.653 242.844,224.326 244.986 L 224.784 246.446 224.209 247.476 C 221.807 251.774,213.766 260.664,205.080 268.625 C 203.765 269.830,202.196 271.286,201.594 271.860 C 200.490 272.911,199.871 273.133,199.363 272.659 C 199.217 272.522,198.112 271.516,196.909 270.424 C 186.341 260.826,176.754 250.242,175.607 246.903 C 174.874 244.773,178.851 237.025,183.148 232.208 C 185.230 229.874,191.443 224.900,192.277 224.900 C 192.340 224.900,192.916 224.609,193.557 224.252 C 195.159 223.360,196.675 222.769,198.207 222.441 C 199.954 222.066,200.166 222.065,201.731 222.417 M199.303 225.591 C 199.193 225.625,198.386 225.852,197.510 226.094 C 189.647 228.272,179.084 239.678,179.084 245.990 C 179.084 248.071,185.247 255.344,194.124 263.735 C 200.351 269.623,199.534 269.284,202.006 267.012 C 210.732 258.989,216.528 252.787,219.668 248.108 C 220.775 246.459,220.816 246.232,220.310 244.567 C 217.884 236.586,209.801 228.413,202.009 226.063 C 200.235 225.528,199.768 225.447,199.303 225.591 M209.163 233.136 C 211.177 234.353,211.764 236.449,210.370 237.442 C 208.208 238.981,204.365 234.955,206.291 233.170 C 207.138 232.385,207.906 232.376,209.163 233.136 M82.172 293.744 C 89.207 295.571,93.784 296.480,100.598 297.403 C 109.972 298.672,115.411 299.203,117.032 299.007 C 118.340 298.848,119.068 299.104,120.984 300.398 C 122.393 301.349,122.382 301.653,120.890 303.023 C 118.775 304.966,118.543 305.047,114.736 305.171 C 111.712 305.270,111.397 305.315,110.874 305.727 C 110.561 305.974,110.226 306.175,110.130 306.175 C 110.035 306.175,109.531 306.472,109.012 306.834 C 108.493 307.197,107.440 307.928,106.673 308.458 C 105.906 308.989,105.049 309.611,104.768 309.841 C 104.487 310.071,104.005 310.438,103.697 310.657 C 100.874 312.664,96.009 317.433,93.536 320.618 C 93.111 321.165,92.663 321.703,92.540 321.813 C 91.483 322.756,88.912 327.052,89.113 327.538 C 89.176 327.691,89.269 327.615,89.352 327.341 C 89.427 327.094,89.590 326.892,89.714 326.891 C 89.839 326.890,90.615 326.230,91.440 325.424 C 93.446 323.464,96.867 320.428,98.314 319.323 C 98.960 318.830,99.641 318.292,99.829 318.127 C 100.260 317.750,100.569 317.515,101.195 317.086 C 101.469 316.899,102.052 316.480,102.490 316.156 C 104.341 314.787,109.315 311.508,111.028 310.528 C 115.546 307.944,115.886 307.954,114.449 310.634 C 113.952 311.560,113.546 312.421,113.546 312.547 C 113.546 312.672,113.323 313.262,113.050 313.859 C 111.880 316.416,112.685 322.054,114.493 323.964 C 115.033 324.534,115.061 324.540,116.649 324.415 C 118.004 324.308,118.405 324.350,119.189 324.686 C 120.141 325.095,120.145 325.100,121.912 328.014 C 125.748 334.341,131.546 337.628,134.929 335.392 C 136.955 334.053,138.446 333.948,138.446 335.146 C 138.446 335.385,138.578 335.755,138.739 335.968 C 139.509 336.986,139.177 337.406,137.500 337.536 C 136.651 337.602,135.133 337.834,134.126 338.051 C 133.119 338.269,132.054 338.446,131.759 338.446 C 131.465 338.446,130.540 338.619,129.705 338.831 C 128.870 339.042,127.739 339.317,127.191 339.442 C 124.345 340.089,123.155 340.398,122.801 340.582 C 122.586 340.693,122.052 340.844,121.614 340.916 C 121.175 340.989,120.503 341.170,120.120 341.319 C 119.736 341.468,118.660 341.830,117.729 342.123 C 115.948 342.685,115.055 343.008,112.450 344.034 C 109.395 345.238,107.626 345.985,106.857 346.397 C 106.430 346.626,106.009 346.813,105.919 346.813 C 105.568 346.813,98.587 350.411,96.713 351.557 C 96.165 351.892,95.140 352.500,94.434 352.907 C 91.957 354.337,84.476 359.618,83.765 360.440 C 83.655 360.566,83.028 361.101,82.371 361.628 C 80.215 363.355,76.114 367.336,74.058 369.696 C 70.662 373.595,70.857 373.515,70.615 371.116 C 70.543 370.403,70.365 369.328,70.219 368.725 C 70.073 368.123,69.890 366.957,69.813 366.135 C 69.735 365.314,69.584 364.417,69.476 364.143 C 69.368 363.870,69.165 362.883,69.024 361.952 C 68.883 361.021,68.631 359.676,68.462 358.964 C 68.014 357.065,67.740 355.846,67.418 354.310 C 67.261 353.558,67.003 352.527,66.845 352.019 C 66.687 351.511,66.365 350.334,66.130 349.402 C 65.894 348.471,65.533 347.171,65.328 346.514 C 65.122 345.857,64.715 344.557,64.422 343.625 C 63.245 339.876,60.866 334.364,59.651 332.574 C 59.359 332.143,58.866 331.159,58.556 330.387 C 57.525 327.822,55.791 326.782,51.394 326.096 C 50.573 325.967,49.452 325.732,48.904 325.573 C 48.357 325.414,46.788 325.196,45.418 325.089 C 44.049 324.981,42.256 324.809,41.434 324.707 C 39.506 324.465,36.726 324.464,34.960 324.705 C 34.193 324.810,32.241 324.984,30.623 325.093 C 29.004 325.202,27.166 325.418,26.539 325.575 C 25.912 325.731,24.871 325.920,24.226 325.995 C 23.581 326.070,22.647 326.253,22.150 326.403 C 20.588 326.873,20.634 326.611,22.410 324.908 C 26.445 321.038,35.384 314.728,42.729 310.565 C 43.715 310.006,44.656 309.464,44.821 309.361 C 45.122 309.173,50.274 306.523,52.490 305.418 C 54.205 304.562,57.560 302.988,57.669 302.988 C 57.720 302.988,58.547 302.621,59.508 302.171 C 60.469 301.722,61.636 301.184,62.102 300.976 C 62.567 300.768,63.329 300.427,63.795 300.218 C 64.260 300.009,65.717 299.376,67.032 298.810 C 68.347 298.244,69.691 297.656,70.020 297.504 C 70.658 297.209,73.905 295.856,75.670 295.149 C 76.257 294.914,77.423 294.392,78.259 293.989 C 80.108 293.099,79.768 293.120,82.172 293.744 M321.281 293.807 C 321.913 294.127,323.247 294.707,324.245 295.097 C 325.976 295.773,326.859 296.137,328.187 296.721 C 328.516 296.866,329.861 297.445,331.175 298.008 C 332.490 298.571,333.835 299.155,334.163 299.306 C 335.836 300.074,337.038 300.598,337.127 300.598 C 337.219 300.598,339.230 301.507,341.733 302.680 C 342.281 302.937,343.267 303.391,343.924 303.688 C 352.735 307.677,362.924 313.533,369.687 318.496 C 371.515 319.838,374.779 322.347,374.900 322.504 C 374.955 322.575,375.739 323.240,376.641 323.982 C 379.217 326.099,379.654 326.895,377.972 326.408 C 377.433 326.252,376.454 326.066,375.797 325.995 C 375.139 325.924,374.129 325.735,373.551 325.576 C 372.974 325.416,371.136 325.198,369.468 325.091 C 367.799 324.984,365.807 324.811,365.040 324.706 C 363.267 324.463,360.460 324.461,358.665 324.702 C 357.898 324.805,356.087 324.982,354.640 325.096 C 353.192 325.209,351.758 325.398,351.452 325.516 C 351.147 325.633,350.090 325.857,349.104 326.013 C 344.382 326.759,342.472 327.787,341.655 330.020 C 341.455 330.569,340.695 332.070,339.968 333.355 C 339.241 334.640,338.645 335.751,338.644 335.824 C 338.644 335.897,338.504 336.223,338.333 336.550 C 337.593 337.970,335.645 343.250,335.245 344.920 C 335.140 345.359,334.931 346.031,334.780 346.414 C 334.629 346.798,334.266 348.053,333.973 349.203 C 333.681 350.354,333.312 351.743,333.153 352.291 C 332.877 353.248,332.478 354.966,332.045 357.072 C 331.932 357.620,331.676 358.740,331.476 359.562 C 331.276 360.383,331.051 361.588,330.975 362.238 C 330.900 362.888,330.749 363.650,330.638 363.931 C 330.528 364.212,330.316 365.383,330.167 366.534 C 330.018 367.684,329.806 369.074,329.696 369.622 C 329.585 370.169,329.441 371.133,329.375 371.763 C 329.205 373.375,329.434 373.522,325.747 369.422 C 323.778 367.232,320.479 363.996,318.638 362.448 C 317.988 361.901,317.226 361.244,316.945 360.987 C 315.370 359.545,309.169 355.051,306.808 353.641 C 306.115 353.227,305.398 352.798,305.215 352.687 C 301.813 350.638,299.486 349.373,296.054 347.707 C 294.815 347.106,293.683 346.614,293.539 346.614 C 293.394 346.614,293.164 346.479,293.028 346.315 C 292.891 346.150,292.694 346.016,292.589 346.016 C 292.418 346.016,290.622 345.278,288.914 344.507 C 288.569 344.351,288.210 344.220,288.117 344.216 C 288.024 344.213,287.590 344.036,287.151 343.825 C 286.713 343.613,286.220 343.436,286.056 343.432 C 285.891 343.427,285.533 343.308,285.259 343.167 C 283.949 342.492,275.695 340.033,272.410 339.340 C 271.643 339.178,270.702 338.951,270.319 338.836 C 269.935 338.722,268.815 338.499,267.829 338.343 C 266.843 338.186,265.588 337.968,265.040 337.860 C 264.492 337.751,263.349 337.606,262.500 337.539 C 260.781 337.402,260.595 337.159,261.259 335.923 C 261.425 335.612,261.652 335.101,261.762 334.785 C 262.082 333.867,263.289 334.127,265.348 335.558 C 268.385 337.668,273.942 334.397,278.137 328.029 C 278.657 327.240,279.083 326.523,279.083 326.436 C 279.087 325.237,281.184 324.244,283.351 324.414 L 284.960 324.541 285.598 323.874 C 286.504 322.926,287.205 320.712,287.480 317.928 L 287.707 315.637 286.972 313.745 C 286.269 311.935,285.483 310.286,284.943 309.489 C 283.989 308.081,285.354 308.421,288.944 310.486 C 290.977 311.655,291.156 311.767,293.046 313.044 C 293.529 313.370,294.072 313.729,294.252 313.841 C 296.683 315.348,302.417 319.731,305.065 322.107 C 306.397 323.302,309.208 325.973,309.631 326.444 C 309.851 326.691,310.140 326.892,310.272 326.892 C 310.403 326.892,310.561 327.081,310.621 327.311 C 310.681 327.541,310.824 327.671,310.938 327.601 C 311.073 327.517,311.008 327.214,310.753 326.737 C 310.536 326.333,310.359 325.933,310.359 325.849 C 310.359 325.633,308.668 323.201,307.692 322.012 C 307.242 321.464,306.739 320.843,306.574 320.633 C 304.982 318.594,301.824 315.299,299.428 313.176 C 296.774 310.826,290.115 305.976,289.541 305.976 C 289.449 305.976,289.201 305.819,288.989 305.627 C 288.667 305.336,288.063 305.261,285.288 305.167 C 281.539 305.041,281.456 305.015,279.582 303.374 C 277.601 301.641,277.560 301.383,279.099 300.347 C 280.901 299.134,281.704 298.856,282.968 299.006 C 284.898 299.236,297.262 297.894,304.183 296.703 C 305.115 296.543,306.414 296.326,307.072 296.222 C 309.673 295.808,313.451 294.924,318.127 293.637 C 319.908 293.147,319.981 293.151,321.281 293.807 M79.880 297.889 C 79.497 298.041,78.690 298.363,78.088 298.603 C 77.485 298.843,76.902 299.105,76.793 299.186 C 76.683 299.266,75.843 299.623,74.925 299.978 C 74.008 300.334,73.112 300.705,72.933 300.802 C 72.755 300.899,71.534 301.439,70.219 302.002 C 68.904 302.565,67.448 303.197,66.982 303.405 C 66.516 303.614,65.754 303.954,65.289 304.161 C 60.724 306.189,53.752 309.584,49.502 311.847 C 48.516 312.372,47.055 313.148,46.257 313.572 C 45.458 313.995,43.686 314.992,42.321 315.786 C 40.955 316.581,39.592 317.368,39.291 317.536 C 38.685 317.874,38.080 318.251,36.454 319.306 C 35.852 319.697,35.124 320.152,34.837 320.317 C 33.913 320.849,33.230 321.492,33.362 321.705 C 33.545 322.002,36.770 321.952,39.243 321.614 C 42.042 321.231,49.299 321.218,51.132 321.592 C 51.879 321.745,53.015 321.932,53.657 322.008 C 56.533 322.348,59.804 324.248,61.554 326.596 C 62.110 327.343,62.963 328.698,63.155 329.141 C 63.260 329.383,63.436 329.716,63.545 329.880 C 63.655 330.045,63.835 330.403,63.944 330.677 C 64.053 330.951,64.226 331.310,64.328 331.474 C 64.538 331.812,65.048 332.960,65.833 334.861 C 66.127 335.573,66.492 336.424,66.644 336.753 C 66.795 337.082,67.057 337.732,67.225 338.197 C 67.392 338.663,67.667 339.425,67.835 339.890 C 68.003 340.356,68.260 341.006,68.406 341.335 C 68.766 342.144,69.271 343.648,69.728 345.270 C 69.937 346.011,70.295 347.266,70.524 348.059 C 70.754 348.853,71.036 349.950,71.150 350.498 C 71.265 351.046,71.481 351.905,71.629 352.406 C 71.777 352.908,71.996 353.984,72.116 354.797 C 72.235 355.610,72.417 356.533,72.520 356.849 C 72.622 357.164,72.808 358.464,72.932 359.737 C 73.291 363.432,73.560 363.612,75.497 361.454 C 78.642 357.951,82.144 354.925,86.288 352.129 C 88.815 350.424,93.038 347.955,93.859 347.703 C 94.114 347.625,94.420 347.483,94.539 347.389 C 94.658 347.294,95.420 346.871,96.233 346.449 C 97.627 345.724,99.228 344.856,101.494 343.596 C 104.024 342.190,109.421 339.631,111.952 338.639 C 112.445 338.446,113.431 338.049,114.143 337.758 C 114.856 337.467,116.379 336.911,117.530 336.524 C 120.594 335.491,120.874 335.166,119.756 333.945 C 118.742 332.838,117.490 330.994,116.829 329.634 C 116.143 328.224,115.799 327.904,114.816 327.755 C 111.212 327.209,108.759 324.210,108.657 320.225 C 108.573 316.970,108.642 316.985,105.265 319.466 C 96.492 325.913,90.216 331.698,85.147 338.011 C 82.492 341.318,81.386 341.444,81.973 338.374 C 82.137 337.518,82.271 336.571,82.271 336.271 C 82.271 334.500,86.968 323.930,88.570 322.096 C 88.721 321.923,88.845 321.708,88.845 321.618 C 88.845 321.529,89.158 320.976,89.542 320.389 C 89.925 319.803,90.548 318.852,90.925 318.277 C 92.354 316.097,96.657 311.905,99.372 310.050 C 100.101 309.552,101.728 308.427,102.988 307.552 C 105.486 305.816,107.734 304.270,108.506 303.757 C 108.777 303.578,109.120 303.197,109.268 302.911 L 109.538 302.390 106.811 302.386 C 103.744 302.382,97.663 301.928,96.489 301.617 C 96.064 301.504,94.919 301.314,93.943 301.195 C 92.968 301.075,92.008 300.890,91.809 300.784 C 91.611 300.678,90.841 300.463,90.097 300.305 C 87.077 299.665,85.138 299.078,83.146 298.202 C 81.963 297.681,80.706 297.561,79.880 297.889 M318.227 297.743 C 318.008 297.801,317.560 297.972,317.231 298.124 C 315.863 298.754,314.177 299.270,310.757 300.103 C 310.045 300.277,309.059 300.549,308.566 300.708 C 308.073 300.867,306.907 301.089,305.976 301.201 C 305.045 301.314,304.014 301.496,303.685 301.607 C 302.823 301.897,296.168 302.388,293.073 302.389 L 290.429 302.390 290.760 302.895 C 291.118 303.441,292.585 304.531,296.518 307.171 C 303.063 311.565,307.272 315.359,309.668 319.024 C 311.981 322.563,316.681 331.780,317.032 333.466 C 317.112 333.850,317.265 334.272,317.372 334.405 C 317.479 334.538,317.690 335.524,317.840 336.596 C 317.991 337.668,318.172 338.918,318.244 339.373 C 318.356 340.088,318.316 340.231,317.947 340.428 C 317.311 340.768,316.680 340.228,314.281 337.293 C 310.897 333.152,304.109 326.506,300.607 323.904 C 300.239 323.630,299.838 323.317,299.717 323.207 C 299.334 322.859,297.174 321.216,295.319 319.861 C 294.333 319.141,293.288 318.367,292.998 318.141 C 291.710 317.141,291.548 317.346,291.412 320.142 C 291.208 324.354,288.878 327.205,285.191 327.755 C 284.200 327.903,283.965 328.116,283.308 329.462 C 282.614 330.881,281.023 333.256,280.272 333.994 C 279.320 334.927,279.651 335.671,281.202 336.078 C 281.625 336.189,282.420 336.450,282.968 336.657 C 283.516 336.864,284.592 337.267,285.359 337.551 C 286.125 337.836,286.932 338.148,287.151 338.246 C 287.371 338.343,288.222 338.705,289.044 339.050 C 289.866 339.395,290.919 339.848,291.384 340.058 C 291.850 340.267,292.657 340.624,293.177 340.851 C 293.698 341.078,294.258 341.347,294.422 341.449 C 294.587 341.551,294.945 341.724,295.219 341.833 C 295.493 341.942,295.852 342.119,296.016 342.226 C 296.180 342.333,296.718 342.628,297.211 342.881 C 298.083 343.329,300.080 344.419,301.693 345.328 C 302.131 345.575,303.611 346.353,304.980 347.057 C 308.056 348.638,309.914 349.635,310.674 350.113 C 311.754 350.791,315.238 353.068,315.438 353.227 C 315.548 353.314,316.624 354.163,317.829 355.113 C 319.034 356.064,321.321 358.154,322.912 359.760 C 326.816 363.700,326.695 363.694,327.089 359.960 C 327.210 358.810,327.362 357.692,327.427 357.475 C 327.492 357.259,327.710 356.184,327.911 355.085 C 328.448 352.148,329.444 347.959,329.901 346.713 C 330.022 346.384,330.240 345.667,330.387 345.120 C 330.739 343.802,331.243 342.328,331.700 341.280 C 331.905 340.811,332.072 340.271,332.072 340.079 C 332.072 339.887,332.193 339.553,332.342 339.337 C 332.490 339.121,332.766 338.475,332.955 337.901 C 333.143 337.327,333.380 336.806,333.481 336.744 C 333.583 336.681,333.665 336.495,333.665 336.330 C 333.665 336.166,333.894 335.521,334.174 334.898 C 334.454 334.275,334.802 333.496,334.948 333.167 C 338.277 325.681,341.480 322.569,346.423 322.017 C 347.131 321.937,348.247 321.749,348.904 321.597 C 350.557 321.215,358.185 321.224,360.857 321.611 C 363.044 321.928,366.286 322.001,366.694 321.742 C 367.061 321.509,366.303 320.937,362.351 318.463 C 356.791 314.982,344.439 308.530,336.355 304.884 C 335.697 304.587,334.756 304.161,334.263 303.936 C 333.770 303.711,333.008 303.374,332.570 303.185 C 331.277 302.630,330.446 302.266,329.283 301.745 C 328.680 301.476,327.605 301.013,326.892 300.717 C 326.180 300.421,325.447 300.097,325.263 299.997 C 325.080 299.897,324.138 299.505,323.172 299.125 C 322.205 298.745,321.145 298.298,320.817 298.132 C 320.135 297.787,318.816 297.589,318.227 297.743 M128.287 304.326 C 128.889 304.601,129.786 304.999,130.279 305.211 C 130.772 305.424,131.429 305.727,131.739 305.886 C 132.049 306.045,132.408 306.176,132.536 306.177 C 132.664 306.178,133.217 306.399,133.765 306.669 C 134.313 306.938,134.871 307.162,135.005 307.165 C 135.139 307.169,135.677 307.361,136.200 307.593 C 136.723 307.825,137.420 308.134,137.749 308.279 C 138.078 308.424,138.974 308.776,139.741 309.061 C 140.508 309.346,141.584 309.748,142.131 309.953 C 142.679 310.159,143.352 310.386,143.625 310.458 C 144.299 310.636,146.199 311.346,146.813 311.650 C 147.689 312.084,153.366 313.622,154.977 313.862 C 155.469 313.935,156.186 314.106,156.571 314.241 C 156.956 314.376,157.884 314.552,158.634 314.632 C 159.383 314.711,160.280 314.894,160.626 315.038 C 160.972 315.181,161.972 315.359,162.849 315.433 C 163.725 315.507,164.846 315.694,165.339 315.849 C 165.832 316.004,167.188 316.212,168.352 316.312 C 169.517 316.412,170.679 316.606,170.936 316.743 C 171.192 316.881,172.525 317.054,173.898 317.128 C 175.271 317.203,176.843 317.407,177.390 317.582 C 179.944 318.398,220.091 318.339,222.939 317.515 C 223.778 317.272,224.879 317.131,225.934 317.131 C 226.852 317.131,228.093 316.992,228.692 316.822 C 229.291 316.652,230.660 316.434,231.734 316.336 C 232.809 316.239,234.109 316.027,234.623 315.864 C 235.137 315.701,236.271 315.507,237.144 315.432 C 238.016 315.358,238.957 315.207,239.235 315.097 C 239.513 314.986,240.458 314.781,241.335 314.639 C 242.211 314.498,243.511 314.245,244.223 314.078 C 244.935 313.911,245.966 313.672,246.514 313.547 C 249.595 312.847,252.812 311.970,253.088 311.754 C 253.444 311.476,256.787 310.245,258.765 309.665 C 259.258 309.520,259.930 309.259,260.259 309.085 C 260.588 308.910,260.991 308.766,261.155 308.765 C 261.320 308.763,261.723 308.584,262.052 308.367 C 262.380 308.149,262.784 307.970,262.948 307.968 C 263.113 307.967,263.516 307.823,263.845 307.648 C 264.173 307.473,264.864 307.202,265.380 307.046 C 265.896 306.890,266.372 306.675,266.437 306.569 C 266.503 306.462,266.710 306.375,266.897 306.375 C 267.084 306.375,267.549 306.208,267.931 306.004 C 268.313 305.800,268.850 305.569,269.124 305.491 C 269.607 305.352,270.842 304.808,271.967 304.237 C 272.271 304.082,272.898 303.845,273.361 303.709 L 274.203 303.462 275.398 304.467 C 281.316 309.441,283.712 313.180,283.747 317.496 C 283.771 320.511,283.227 320.869,280.238 319.803 C 277.257 318.739,275.736 319.307,274.786 321.842 C 273.527 325.199,270.165 329.131,267.513 330.347 L 266.036 331.025 263.247 330.877 C 261.713 330.795,259.821 330.613,259.042 330.473 C 256.917 330.089,256.121 330.521,255.212 332.550 C 254.260 334.675,252.229 335.970,250.610 335.485 C 250.194 335.361,249.559 335.259,249.199 335.259 C 248.687 335.259,248.316 335.043,247.491 334.263 C 245.646 332.518,244.179 333.016,241.916 336.155 C 238.377 341.065,236.282 342.788,231.145 345.009 C 229.847 345.571,228.516 346.155,228.187 346.307 C 225.296 347.644,224.303 347.856,224.303 347.137 C 224.303 346.556,223.075 345.254,222.153 344.858 C 220.605 344.192,219.831 344.472,217.032 346.708 C 213.495 349.534,212.293 350.144,207.769 351.406 C 205.021 352.173,204.764 352.299,203.486 353.505 C 202.002 354.905,200.514 355.976,200.054 355.976 C 199.578 355.976,197.620 354.564,196.614 353.495 C 195.752 352.579,194.801 352.079,192.959 351.572 C 192.175 351.356,191.086 351.056,190.538 350.904 C 187.880 350.168,185.676 348.940,183.028 346.722 C 180.470 344.578,179.437 344.225,177.745 344.915 C 177.000 345.219,175.697 346.686,175.697 347.222 C 175.697 347.617,174.708 347.547,173.613 347.076 C 172.137 346.439,170.812 345.864,170.020 345.515 C 164.363 343.026,161.904 341.243,159.363 337.785 C 155.760 332.885,154.522 332.263,152.441 334.313 C 151.680 335.062,151.341 335.259,150.813 335.259 C 150.446 335.259,149.806 335.361,149.390 335.485 C 147.495 336.053,145.525 334.514,144.435 331.613 C 144.068 330.638,142.636 330.156,141.036 330.468 C 138.131 331.035,134.079 331.074,132.923 330.547 C 130.121 329.270,127.443 326.428,125.818 323.008 C 124.642 320.532,124.390 320.111,123.833 319.700 C 123.075 319.139,121.731 319.146,120.091 319.720 C 118.839 320.158,116.904 320.355,116.622 320.074 C 116.340 319.793,116.140 317.816,116.264 316.534 C 116.619 312.866,119.325 308.947,124.602 304.462 C 125.952 303.314,126.060 303.310,128.287 304.326 "
                      fill="#CBCBCB"
                      fill-rule="evenodd"
                      stroke="none"
                  ></path>
                </g>
              </svg>
            </v-row>
            <v-card>
              <v-card-text class="mb-0 pb-0"
              ><p>{{ $t("ui.siteDesc1") }}</p>
                <p>{{ $t("ui.siteDesc2") }}</p>
                <p>{{ $t("ui.siteDesc3") }}</p>
                <p>{{ $t("ui.siteDesc4") }}</p>
                <p>{{ $t("ui.siteDesc5") }}</p></v-card-text
              >
              <v-card-actions class="ml-2">
                <v-btn
                    fan
                    href="https://discord.gg/8J4Q4RywPK"
                    icon
                    large
                    outlined
                    target="_blank"
                >
                  <v-icon dark>mdi-discord</v-icon>
                </v-btn>

                <v-btn
                    fan
                    href="https://github.com/semuer/XIUtilsEquipCalculator"
                    icon
                    large
                    outlined
                    target="_blank"
                >
                  <v-icon dark>mdi-github</v-icon>
                </v-btn>
              </v-card-actions>
            </v-card>

            <!--            <equip-set-performance-view-->
            <!--              :dirty="dirtyFlag"-->
            <!--              :equip-set-info="editEquipSet"-->
            <!--            />-->
          </v-col>
        </v-row>
        <v-footer :padless="true" color="transparent">
          <v-sheet class="text-center transparent" width="100%">
            <v-card-text>
              FINAL FANTASY is a registered trademark of Square Enix Holdings
              Co., Ltd. FINAL FANTASY XI © 2002 -
              {{ new Date().getFullYear() }} SQUARE ENIX CO., LTD. All Rights
              Reserved.
            </v-card-text>
            <v-divider></v-divider>
            <v-card-text class="grey--text">
              {{ new Date().getFullYear() }} © <strong>Mog Gearset</strong>
            </v-card-text>
          </v-sheet>
        </v-footer>
      </v-container>
    </v-main>
  </v-app>
</template>

<script lang="ts">
import {Component, Mixins, Vue, Watch} from "vue-property-decorator";
import EquipmentList from "@/components/EquipmentList.vue";
import JobSelector from "./components/JobSelector.vue";
import EquipSlotSelector from "./components/EquipSlotSelector.vue";
import EquipIconSlotSelector from "./components/EquipIconSlotSelector.vue";
import EquipSetPerformanceView from "@/components/EquipSetPerformanceView.vue";
import {CalculatedAugInfo, Equipment, EquipSet} from "./@types/equip-set";
import loki, {Collection} from "lokijs";
import xiUtils from "@/mixins/xiutils";
import PerformanceViewer from "@/components/PerformanceViewer.vue";
import AugmentSelector from "@/components/AugmentSelector.vue";

@Component({
  components: {
    AugmentSelector,
    PerformanceViewer,
    EquipmentList,
    JobSelector,
    EquipSlotSelector,
    EquipSetPerformanceView,
    EquipIconSlotSelector,
  },
})
export default class App extends Mixins(xiUtils) {
  // data
  db = new loki("data.db");
  selectedJob: string[] = [];
  selectedSlot = "";
  //filteredEquips:Equipment[] = [];
  equipCollection: Collection<Equipment> | null = null;

  dirtyFlag = false;
  equipQueryChain: ResultSet | null = null;
  navigationWidth = 400;
  propsArray: string[] = [];
  propDict: Map<string, string[]> = new Map();
  categoryDict: Map<string, string[]> = new Map();
  baseUrl: string = process.env.BASE_URL;
  drawer = false;
  selectedSetName = "";

  public setCurrentEquipSetName(e: any) {
    this.$store.commit("setCurrentEquipSetName", {name: e})
  }

  get editEquipSet() {
    return this.$store.state.currentEquipSet.data;
  }

  get currentEquipSet() {
    return this.$store.state.currentEquipSet;
  }

  get equipSetNameList() {
    return this.$store.getters.getSavedEquipNameList;
  }

  get selectedEquip(): Equipment | undefined {
    const equip = this.editEquipSet[this.selectedSlot];
    if (equip != null) {
      return equip.Equip;
    }
    return undefined;
  }

  public applySlotAugments(event: unknown): void {
    if (event == undefined) {
      return;
    }
    const augs = event as CalculatedAugInfo[];
    const slotItem = this.editEquipSet[this.selectedSlot];
    if (slotItem == null) {
      return;
    }
    Vue.set(slotItem, "Aug", augs);
  }

  public equipItem(item: Equipment): void {
    this.drawer = false;
    let newSlot = null;
    if (this.selectedSlot != null && this.selectedSlot != "") {
      this.$store.commit("setCurrentEquipSetSlot", {slot: this.selectedSlot, data: {Equip: item}})
      this.dirtyFlag = !this.dirtyFlag;
      newSlot = this.selectedSlot;
    } else {
      const slot = this.getItemSlot(item);
      if (slot != null) {
        this.$store.commit("setCurrentEquipSetSlot", {slot: slot, data: {Equip: item}})
        this.dirtyFlag = !this.dirtyFlag;
        newSlot = slot;
      }
    }

    if (newSlot != null) {
      if (newSlot == "Main") {
        if (
            this.editEquipSet.Sub != null &&
            this.editEquipSet.Sub.Equip != null
        ) {
          const subType = this.getItemTypeName(this.editEquipSet.Sub.Equip);
          if (this.isTwoHandWeapon(item)) {
            if (subType != "item.itemType.grip") {
              this.$store.commit("setCurrentEquipSetSlot",
                  {
                    slot: this.slotNames.Sub,
                    data: undefined
                  })
            }
          } else {
            if (subType == "item.itemType.grip") {
              this.$store.commit("setCurrentEquipSetSlot",
                  {
                    slot: this.slotNames.Sub,
                    data: undefined
                  })
            }
          }
        }
      } else if (newSlot == "Sub") {
        const subType = this.getItemTypeName(item);
        if (
            this.editEquipSet.Main != null &&
            this.editEquipSet.Main.Equip != null
        ) {
          const isMainTwoHand = this.isTwoHandWeapon(
              this.editEquipSet.Main.Equip
          );

          if (subType != "item.itemType.grip") {
            if (isMainTwoHand) {
              this.$store.commit("setCurrentEquipSetSlot",
                  {
                    slot: this.slotNames.Main,
                    data: undefined
                  })
            }
          } else {
            if (!isMainTwoHand) {
              this.$store.commit("setCurrentEquipSetSlot",
                  {
                    slot: this.slotNames.Main,
                    data: undefined
                  })
            }
          }
        }
      } else if (
          newSlot == "Range" &&
          this.editEquipSet.Ammo != null &&
          this.editEquipSet.Ammo.Equip != null
      ) {
        const slotType = this.getItemTypeName(item);
        const ammoType = this.getItemTypeName(this.editEquipSet.Ammo.Equip);

        if (slotType == "item.itemType.archery") {
          if (
              ammoType == "item.itemType.throw" ||
              ammoType == "item.itemType.bullet"
          ) {
            this.$store.commit("setCurrentEquipSetSlot",
                {
                  slot: this.slotNames.Ammo,
                  data: undefined
                })
          }
        } else if (slotType == "item.itemType.marksmanship") {
          if (
              ammoType == "item.itemType.throw" ||
              ammoType == "item.itemType.arrow"
          ) {
            this.$store.commit("setCurrentEquipSetSlot",
                {
                  slot: this.slotNames.Ammo,
                  data: undefined
                })
          }
        } else if (
            slotType == "item.itemType.throw" ||
            slotType == "item.itemType.stringinst" ||
            slotType == "item.itemType.windinst"
        ) {
          this.$store.commit("setCurrentEquipSetSlot",
              {
                slot: this.slotNames.Ammo,
                data: undefined
              })
        }
      } else if (
          newSlot == "Ammo" &&
          this.editEquipSet.Range != null &&
          this.editEquipSet.Range.Equip != null
      ) {
        const slotType = this.getItemTypeName(item);
        const rangeType = this.getItemTypeName(this.editEquipSet.Range.Equip);
        if (slotType == "item.itemType.throw") {
          this.$store.commit("setCurrentEquipSetSlot",
              {
                slot: this.slotNames.Range,
                data: undefined
              })
        } else if (slotType == "item.itemType.arrow") {
          if (
              rangeType == "item.itemType.throw" ||
              rangeType == "item.itemType.stringinst" ||
              rangeType == "item.itemType.windinst" ||
              rangeType == "item.itemType.marksmanship"
          )
            this.$store.commit("setCurrentEquipSetSlot",
                {
                  slot: this.slotNames.Range,
                  data: undefined
                })
        } else if (slotType == "item.itemType.bullet") {
          if (
              rangeType == "item.itemType.throw" ||
              rangeType == "item.itemType.stringinst" ||
              rangeType == "item.itemType.windinst" ||
              rangeType == "item.itemType.archery"
          )
            this.$store.commit("setCurrentEquipSetSlot",
                {
                  slot: this.slotNames.Range,
                  data: undefined
                })
        }
      }
    }

    if (item.Properties != null) {
      for (const prop of item.Properties) {
        switch (prop.PropID) {
          case 0: //両手両脚両足装備不可
            this.setCurrentEquipSlot(this.slotNames.Hands, undefined);
            this.setCurrentEquipSlot(this.slotNames.Legs, undefined);
            this.setCurrentEquipSlot(this.slotNames.Feet, undefined);
            break;
          case 2: // 両手装備不可
            this.setCurrentEquipSlot(this.slotNames.Hands, undefined);
            break;
          case 41: //頭装備不可"
            this.setCurrentEquipSlot(this.slotNames.Head, undefined);
            break;
          case 63: //"両足装備不可
            this.setCurrentEquipSlot(this.slotNames.Feet, undefined);
            break;
          case 1070: //"頭両手装備不可
            this.setCurrentEquipSlot(this.slotNames.Head, undefined);
            this.setCurrentEquipSlot(this.slotNames.Hands, undefined);
            break;
          case 1177: //"両脚装備不可
            this.setCurrentEquipSlot(this.slotNames.Legs, undefined);
            break;
        }
      }
    }
  }


  public clearSlot(selectedSlot: string): void {
    this.$store.commit("clearCurrentEquipSetSlot", {slot: selectedSlot});
    this.dirtyFlag = !this.dirtyFlag;
  }

  public changeLanguage(): void {
    if (this.$root.$i18n.locale === "ja") {
      this.$root.$i18n.locale = "en";
    } else {
      this.$root.$i18n.locale = "ja";
    }
  }

  @Watch("selectedJob")
  selectedJobChanged(): void {
    this.changeQuery(this.selectedSlot);
  }

  @Watch("selectedSlot")
  selectedSlotChanged(newSlot: string): void {
    if (newSlot != null) {
      this.drawer = true;
    }

    this.changeQuery(this.selectedSlot);
  }

  public changeQuery(newSlot: string): void {
    let query: Record<string, unknown> = {};
    for (const job of this.selectedJob) {
      query["Is" + job] = true;
    }

    //query["ItemLevel"] = 119;
    //console.log(query);
    if (newSlot == "" || newSlot == null) {
      if (this.equipCollection != null) {
        this.equipQueryChain = this.equipCollection.chain().find(query);
      } else {
        this.equipQueryChain = null;
      }
      return;
    }

    let slotToIdDict: Record<string, number> = {
      Main: 0,
      Sub: 1,
      Range: 2,
      Ammo: 3,
      Head: 4,
      Body: 5,
      Hands: 6,
      Legs: 7,
      Feet: 8,
      Neck: 9,
      Waist: 10,
      LEarring: 11,
      REarring: 12,
      LRing: 13,
      RRing: 14,
      Cape: 15,
    };

    let newsSlotFlags: number = slotToIdDict[newSlot];
    //console.log(newsSlotFlags);
    if (this.equipCollection != null) {
      this.equipQueryChain = this.equipCollection
          .chain()
          .find(query)
          .where(function (obj: Equipment) {
            let slotFlags: number = obj.Slots ?? 0;
            return (slotFlags & (1 << newsSlotFlags)) != 0;
          });
    } else {
      this.equipQueryChain = null;
    }
  }

  setBorderWidth(): void {
    let i = (this.$refs.drawer as Vue).$el.querySelector(
        ".v-navigation-drawer__border"
    );
    if (i != null) {
      (i as HTMLElement).style.width = "2px";
      (i as HTMLElement).style.cursor = "ew-resize";
    }
  }

  setEvents(): void {
    const minSize = this.navigationWidth;
    const el = (this.$refs.drawer as Vue).$el;
    const drawerBorder = el.querySelector(".v-navigation-drawer__border");
    const direction = el.classList.contains("v-navigation-drawer--right")
        ? "right"
        : "left";

    function resize(e: any) {
      document.body.style.cursor = "ew-resize";
      let f =
          direction === "right"
              ? document.body.scrollWidth - (e.clientX as number)
              : e.clientX;
      (el as HTMLElement).style.width = f + "px";
    }

    drawerBorder?.addEventListener(
        "mousedown",
        (e) => {
          if ((e as MouseEvent).offsetX < minSize) {
            (el as HTMLElement).style.transition = "initial";
            document.addEventListener("mousemove", resize, false);
          }
        },
        false
    );

    document.addEventListener(
        "mouseup",
        () => {
          (el as HTMLElement).style.transition = "";
          this.navigationWidth = parseInt((el as HTMLElement).style.width);
          document.body.style.cursor = "";
          document.removeEventListener("mousemove", resize, false);
        },
        false
    );
  }

  //
  // public onResize():void{
  //   const el = (this.$refs.drawer as Vue).$el;
  //   (el as HTMLElement).style.height = window.innerHeight + "px";
  //   (el as HTMLElement).style.display = "block"
  // }

  mounted(): void {
    this.setBorderWidth();
    this.setEvents();
  }

  created(): void {
    let ec = this.db.getCollection<Equipment>("equip");
    if (ec === null) {
      ec = this.db.addCollection<Equipment>("equip", {
        unique: ["Id"],
        indices: [
          "Level",
          "ItemLevel",
          "IsMNK",
          "IsWHM",
          "IsBLM",
          "IsRDM",
          "IsTHF",
          "IsPLD",
          "IsDRK",
          "IsBST",
          "IsBRD",
          "IsRNG",
          "IsSAM",
          "IsNIN",
          "IsDRG",
          "IsSMN",
          "IsBLU",
          "IsCOR",
          "IsPUP",
          "IsDNC",
          "IsSCH",
          "IsGEO",
          "IsRUN",
        ],
        disableMeta: true,
        adaptiveBinaryIndices: false,
      });
    }

    this.equipCollection = Object.freeze(ec);
    if (this.equipCollection == null) {
      console.log("Collection Creating Error.");
      return;
    }

    const promiseParseData = fetch(
        process.env.BASE_URL + "json/parseddata.json"
    )
        .then((response) => response.json())
        .then((data) => {
          let equips = data as Equipment[];
          ec.insert(equips);
        });

    fetch(process.env.BASE_URL + "json/parsedprops.json")
        .then((response) => response.json())
        .then((data) => {
          this.propsArray = data as string[];
        });

    const promisePropData = fetch(
        process.env.BASE_URL + "json/properties_dict.json"
    )
        .then((response) => response.json())
        .then((data) => {
          this.propDict = new Map(Object.freeze(Object.entries(data)));
        });
    const promiseCateData = fetch(
        process.env.BASE_URL + "json/categories_dict.json"
    )
        .then((response) => response.json())
        .then((data) => {
          this.categoryDict = new Map(Object.freeze(Object.entries(data)));
        });

    Promise.all([promiseParseData, promisePropData, promiseCateData]).then(
        () => {
          this.equipQueryChain = null;
          this.selectedJob = [];
        }
    );
  }
}

type ResultSet = ReturnType<Collection["chain"]>;
</script>
<style lang="css" scoped>
@import url("https://fonts.googleapis.com/css2?family=Mali:wght@500&display=swap");

.title-logo {
  font-family: "Alegreya Sans SC", sans-serif;
  font-size: 2.5rem;
}
</style>
